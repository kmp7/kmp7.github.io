<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kmp+</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
	<script src="d3.v7.min.js"></script>
    <style>
        :root {
            --bg-color: #f5f5f5;
            --header-color: #325980;
            --accent-color: #3498db;
            --content-color: #ffffff;
            --text-color: #333333;
            --secondary-text: #555555;
            --border-color: #dddddd;
			--primary-color: #3e76ad;
		--header-text-color: #ffffff;
		--border-radius: 8px;
        }

        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --header-color: #4a6d8c;
            --accent-color: #2980b9;
            --content-color: #2c2c2c;
            --text-color: #f0f0f0;
            --secondary-text: #cccccc;
            --border-color: #444444;
        }

        * {
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        header {
            background-color: var(--primary-color);
            color: var(--header-text-color);
            padding: 20px 0;
            text-align: center;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            background-image: linear-gradient(135deg, var(--primary-color) 0%, #2c3e50 100%);
        }

        h1, h2, h3 {
            color: var(--header-color);
            margin-top: 0;
        }

        header h1 {
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        .panel {
            background-color: var(--content-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
        }

        .visualization-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        @media (min-width: 768px) {
            .visualization-container {
                flex-direction: row;
            }
            
            .word-selector {
                width: 25%;
            }
            
            .visualization {
                width: 75%;
            }
        }

        .word-selector {
            background-color: var(--content-color);
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .visualization {
            background-color: var(--content-color);
            border-radius: 8px;
            padding: 1rem;
            height: 500px;
            position: relative;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .word-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .word-item {
            padding: 0.6rem 1rem;
            margin-bottom: 0.5rem;
            background-color: var(--bg-color);
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
            border: 1px solid var(--border-color);
        }

        .word-item:hover, .word-item.selected {
            background-color: var(--accent-color);
            color: white;
        }

        button {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: var(--header-color);
        }

        #modeToggle {
            margin-bottom: 1rem;
        }

        .theme-toggle {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: white;
        }

        .tooltip {
    position: absolute;
    background-color: var(--content-color);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 0.5rem;
    font-size: 0.9rem;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.2s;
    max-width: 300px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    /* –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

/* –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
[data-theme="dark"] .tooltip {
    background-color: rgba(44, 44, 44, 0.95);
}

/* –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
.tooltip {
    background-color: rgba(255, 255, 255, 0.95);
}

        .word-vector {
            font-family: monospace;
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: var(--secondary-text);
        }

        .related-words {
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }

        .related-word {
            display: inline-block;
            background-color: var(--bg-color);
            padding: 0.2rem 0.5rem;
            margin: 0.2rem;
            border-radius: 3px;
            font-size: 0.8rem;
        }

        .info-block {
            background-color: var(--content-color);
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            margin: 1rem 0;
        }

        .tab-container {
            display: flex;
            margin-bottom: 1rem;
        }

        .tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-bottom: none;
            border-radius: 4px 4px 0 0;
            margin-right: 0.5rem;
        }

        .tab.active {
            background-color: var(--accent-color);
            color: white;
        }

        .tab-content {
            display: none;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0 4px 4px 4px;
            background-color: var(--content-color);
        }

        .tab-content.active {
            display: block;
        }
		
		.visualization {
    background-color: var(--content-color);
    border-radius: 8px;
    padding: 1rem;
    height: 500px;
    position: relative;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    overflow: hidden; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã */
}

#svg {
    width: 100%;
    height: 100%;
    display: block; /* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
}
footer {
      text-align: center;
      padding: 20px 0;
      margin-top: 10px;
      font-size: 0.9rem;
      border-top: 0px solid #ddd;
    }
    </style>
</head>
<body>
    <header>
        <h1>–ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞</h1>
        <button class="theme-toggle" id="themeToggle">‚òÄÔ∏è</button>
    </header>

    <div class="container">
        <div class="panel">
            <button id="modeToggle">–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–≤—è–∑–∏</button>
            
            <div class="visualization-container">
                <div class="word-selector">
                    <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–≤–∞</h3>
                    <ul class="word-list" id="wordList">
                        <li class="word-item" data-word="–ø–µ—Å">–ø–µ—Å</li>
                        <li class="word-item" data-word="–≤–æ–ª–∫">–≤–æ–ª–∫</li>
                        <li class="word-item" data-word="–∫–æ—Ç">–∫–æ—Ç</li>
                        <li class="word-item" data-word="—Ü–∞—Ä—å">—Ü–∞—Ä—å</li>
                        <li class="word-item" data-word="–ø—Ä–∏–Ω—Ü–µ—Å—Å–∞">–ø—Ä–∏–Ω—Ü–µ—Å—Å–∞</li>
                        <li class="word-item" data-word="–¥–µ—Ä–µ–≤–æ">–¥–µ—Ä–µ–≤–æ</li>
                        <li class="word-item" data-word="—è–±–ª–æ–∫–æ">—è–±–ª–æ–∫–æ</li>
                        <li class="word-item" data-word="–∫–Ω–∏–≥–∞">–∫–Ω–∏–≥–∞</li>
                        <li class="word-item" data-word="–≤–æ–¥–∞">–≤–æ–¥–∞</li>
                        <li class="word-item" data-word="—Å–æ–ª–Ω—Ü–µ">—Å–æ–ª–Ω—Ü–µ</li>
                    </ul>
                </div>
                
                <div class="visualization" id="visualization">
                    <div id="tooltip" class="tooltip"></div>
                    <svg id="svg" width="100%" height="100%"></svg>
                </div>
            </div>
        </div>

        <div class="panel">
            <div class="tab-container">
                <div class="tab active" data-tab="explanation">–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ</div>
                <div class="tab" data-tab="functional">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</div>
                <div class="tab" data-tab="technical">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏</div>
            </div>
            
            <div class="tab-content active" id="explanation">
                <h2>–°–≤—è–∑—å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞</h2>
                
                <div class="info-block">
                    <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–ª–∏–∑–º)</h3>
                    <p>–í —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–ª–∏–∑–º–µ, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–º –Ω–∞ –∏–¥–µ—è—Ö –§–µ—Ä–¥–∏–Ω–∞–Ω–¥–∞ –¥–µ –°–æ—Å—Å—é—Ä–∞, –∑–Ω–∞—á–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –µ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ –≤ —è–∑—ã–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –°–ª–æ–≤–æ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å–∞–º–æ –ø–æ —Å–µ–±–µ, –∞ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–∏—è –∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏.</p>
                    <p>–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–≤–æ "–ø–µ—Å" –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å "–≤–æ–ª–∫" (–æ–±–∞ –º–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–∏–µ, –Ω–æ –æ–¥–∏–Ω –¥–æ–º–∞—à–Ω–∏–π, –¥—Ä—É–≥–æ–π –¥–∏–∫–∏–π), "–∫–æ—Ç" (–æ–±–∞ –¥–æ–º–∞—à–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã–µ, –Ω–æ —Ä–∞–∑–Ω—ã–µ –≤–∏–¥—ã) –∏ —Ç.–¥.</p>
                </div>
                
                <div class="info-block">
                    <h3>–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (LLM)</h3>
                    <p>–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª—è—Ö —Å–ª–æ–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –≤–µ–∫—Ç–æ—Ä—ã –≤ –º–Ω–æ–≥–æ–º–µ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏–µ —Å–ª–æ–≤–∞ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è —Ä—è–¥–æ–º –≤ —ç—Ç–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ. –ó–Ω–∞—á–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –µ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥–∏—Ö —Å–ª–æ–≤.</p>
                    <p>–í —ç—Ç–æ–º —Å–º—ã—Å–ª–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –º–æ–¥–µ–ª–∏ –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ —á–∏—Å–ª–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–¥–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–ª–∏–∑–º–∞: –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –Ω–æ –≤ –º–Ω–æ–≥–æ–º–µ—Ä–Ω–æ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.</p>
                </div>
                
                <h3>–ê–Ω–∞–ª–æ–≥–∏—è —Å —á–∏—Å–ª–æ–º "3" –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö</h3>
                <p>–ü–æ–¥–æ–±–Ω–æ —Ç–æ–º—É, –∫–∞–∫ —á–∏—Å–ª–æ "3" –∏–º–µ–µ—Ç —Ä–∞–∑–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã:</p>
                <ul>
                    <li><strong>–í –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞—Ö:</strong> 3 ‚Äì —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ç—Ä–µ—Ç—å–µ —á–∏—Å–ª–æ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</li>
                    <li><strong>–í —Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞—Ö:</strong> 3 ‚Äì —ç—Ç–æ 3/1, –∏–ª–∏ 6/2, –∏–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã—Ö –¥—Ä–æ–±–µ–π.</li>
                    <li><strong>–í –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á–∏—Å–ª–∞—Ö:</strong> 3 ‚Äì —ç—Ç–æ —Ç–æ—á–∫–∞ –Ω–∞ —á–∏—Å–ª–æ–≤–æ–π –ø—Ä—è–º–æ–π —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏.</li>
                </ul>
                <p>–¢–∞–∫ –∏ —Å–ª–æ–≤–æ –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚Äì –ª–∏–±–æ —á–µ—Ä–µ–∑ —Å–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Å–≤—è–∑–µ–π —Å –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ª–∏–±–æ —á–µ—Ä–µ–∑ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.</p>
                
                <div class="info-block">
                    <h3>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è</h3>
                    <p>–ó–Ω–∞—á–µ–Ω–∏–µ —Å–ª–æ–≤–∞ ‚Äì —ç—Ç–æ –Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –∞ —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –ò–¥–µ–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–ª–∏–∑–º–∞ (–∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–∏–µ) –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–≤—É—á–Ω—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø–æ–¥—Ö–æ–¥–∞–º –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ —è–∑—ã–∫–∞ (–∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ).</p>
                </div>
            </div>
            
            <div class="tab-content" id="functional">
                <h2>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
                
                <h3>1. –†–µ–∂–∏–º—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏</h3>
                <ul>
                    <li><strong>–†–µ–∂–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Å–≤—è–∑–µ–π:</strong> –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏, –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è (—Å–∏–Ω–æ–Ω–∏–º–∏—è, –≥–∏–ø–æ–Ω–∏–º–∏—è –∏ —Ç.–¥.).</li>
                    <li><strong>–†–µ–∂–∏–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞:</strong> –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ –∂–µ —Å–ª–æ–≤–∞ –∫–∞–∫ —Ç–æ—á–∫–∏ –≤ –¥–≤—É–º–µ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –≥–¥–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–æ–¥–µ–ª–∏—Ä—É—é—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –±–ª–∏–∑–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —É–ø—Ä–æ—â–µ–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π.</li>
                </ul>
                
                <h3>2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã</h3>
                <ul>
                    <li><strong>–í—ã–±–æ—Ä —Å–ª–æ–≤:</strong> –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–ª–æ–≤–∞ –∏–∑ —Å–ø–∏—Å–∫–∞, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –∏—Ö –∏–∑ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.</li>
                    <li><strong>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤:</strong> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º" –¥–ª—è —Å–º–µ–Ω—ã –º–µ–∂–¥—É —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–º –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º.</li>
                    <li><strong>–ù–∞–≤–µ–¥–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–≤–æ:</strong> –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ —Å–ª–æ–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–µ–º (–≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –±–ª–∏–∂–∞–π—à–∏–µ —Å–ª–æ–≤–∞).</li>
                    <li><strong>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã:</strong> –ö–Ω–æ–ø–∫–∞ ‚òÄÔ∏è/üåô –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π.</li>
                </ul>
                
                <h3>3. –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å</h3>
                <p>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –Ω–∞–±–æ—Ä —Å–ª–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É (—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –∏–ª–∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ), –Ω–æ –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö –∑–Ω–∞—á–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏.</p>
                <p>–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞–º –ø–æ–Ω—è—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ–æ—Ä–∏—è–º–∏ –ª–∏–Ω–≥–≤–∏—Å—Ç–∏–∫–∏ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞.</p>
            </div>
            
            <div class="tab-content" id="technical">
                <h2>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏</h2>
                
                <h3>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3>
                <ul>
                    <li><strong>HTML5/CSS3:</strong> –î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å—Ç–∏–ª–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</li>
                    <li><strong>JavaScript:</strong> –î–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</li>
                    <li><strong>D3.js (v7):</strong> –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π –¥–∞–Ω–Ω—ã—Ö. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Å–≤—è–∑–µ–π –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.</li>
                </ul>
                
                <h3>–î–∏–∑–∞–π–Ω</h3>
                <ul>
                    <li><strong>–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:</strong> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ —ç–∫—Ä–∞–Ω–∞.</li>
                    <li><strong>–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:</strong> 
                        <ul>
                            <li>–§–æ–Ω: #f5f5f5 (—Å–≤–µ—Ç–ª—ã–π —Ä–µ–∂–∏–º) / #1a1a1a (—Ç–µ–º–Ω—ã–π —Ä–µ–∂–∏–º)</li>
                            <li>–ó–∞–≥–æ–ª–æ–≤–∫–∏: #325980 (—Å–≤–µ—Ç–ª—ã–π —Ä–µ–∂–∏–º) / #4a6d8c (—Ç–µ–º–Ω—ã–π —Ä–µ–∂–∏–º)</li>
                            <li>–ê–∫—Ü–µ–Ω—Ç—ã: #3498db (—Å–≤–µ—Ç–ª—ã–π —Ä–µ–∂–∏–º) / #2980b9 (—Ç–µ–º–Ω—ã–π —Ä–µ–∂–∏–º)</li>
                            <li>–ö–æ–Ω—Ç–µ–Ω—Ç: #ffffff (—Å–≤–µ—Ç–ª—ã–π —Ä–µ–∂–∏–º) / #2c2c2c (—Ç–µ–º–Ω—ã–π —Ä–µ–∂–∏–º)</li>
                        </ul>
                    </li>
                </ul>
                
                <h3>–î–∞–Ω–Ω—ã–µ</h3>
                <p>–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–≤–∞ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö:</p>
                <ol>
                    <li><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–≤—è–∑–∏:</strong> –ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π –º–µ–∂–¥—É —Å–ª–æ–≤–∞–º–∏ (—Å–∏–Ω–æ–Ω–∏–º–∏—è, –≥–∏–ø–æ–Ω–∏–º–∏—è –∏ —Ç.–¥.).</li>
                    <li><strong>–í–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:</strong> –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤ –≤ –º–Ω–æ–≥–æ–º–µ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–µ—Ü–∏—Ä—É—é—Ç—Å—è –Ω–∞ –¥–≤—É–º–µ—Ä–Ω—É—é –ø–ª–æ—Å–∫–æ—Å—Ç—å –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.</li>
                </ol>
                
                <p>–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ JavaScript-–æ–±—ä–µ–∫—Ç–∞—Ö. –í —Ä–µ–∞–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–∑ –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.</p>
            </div>
        </div>
    </div>
<footer class="footer">
<div class="container">
<p>¬© 2025 | kmp | CC BY-NC-SA 4.0<br>
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ë—Ä–ì–£ –∏–º–µ–Ω–∏ –ê.–°. –ü—É—à–∫–∏–Ω–∞</p>
</div>
</footer>
<div style="position: fixed; bottom: 10px; right: 33px; opacity: 0.3; font-size: 14px;">kmp+</div>
    <script>
        // –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ –Ω–∞—á–∞–ª–æ —Å–∫—Ä–∏–ø—Ç–∞
function handleResize() {
    const visualization = document.getElementById('visualization');
    const svg = d3.select('#svg');
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–∞–∑–º–µ—Ä—ã SVG
    svg
        .attr('width', visualization.clientWidth)
        .attr('height', visualization.clientHeight);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
    updateVisualization();
}

// –î–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        // ------------------------

        // –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–ª–æ–≤–∞–º–∏
        const structuralLinks = [
            { source: "–ø–µ—Å", target: "–≤–æ–ª–∫", type: "—Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∏–¥" },
            { source: "–ø–µ—Å", target: "–∫–æ—Ç", type: "–¥–æ–º–∞—à–Ω–µ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ" },
            { source: "–≤–æ–ª–∫", target: "–∫–æ—Ç", type: "–º–ª–µ–∫–æ–ø–∏—Ç–∞—é—â–µ–µ" },
            { source: "—Ü–∞—Ä—å", target: "–ø—Ä–∏–Ω—Ü–µ—Å—Å–∞", type: "–∫–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è —Å–µ–º—å—è" },
            { source: "–ø—Ä–∏–Ω—Ü–µ—Å—Å–∞", target: "—Ü–∞—Ä—å", type: "–∏–µ—Ä–∞—Ä—Ö–∏—è" },
            { source: "–¥–µ—Ä–µ–≤–æ", target: "—è–±–ª–æ–∫–æ", type: "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç" },
            { source: "—è–±–ª–æ–∫–æ", target: "–¥–µ—Ä–µ–≤–æ", type: "—Ä–∞—Å—Ç–µ—Ç –Ω–∞" },
            { source: "–∫–Ω–∏–≥–∞", target: "–¥–µ—Ä–µ–≤–æ", type: "–º–∞—Ç–µ—Ä–∏–∞–ª" },
            { source: "–≤–æ–¥–∞", target: "—è–±–ª–æ–∫–æ", type: "—Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤" },
            { source: "—Å–æ–ª–Ω—Ü–µ", target: "–¥–µ—Ä–µ–≤–æ", type: "–ø–∏—Ç–∞–µ—Ç" },
            { source: "—Å–æ–ª–Ω—Ü–µ", target: "–≤–æ–¥–∞", type: "–∏—Å–ø–∞—Ä—è–µ—Ç" }
        ];

        // –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤ –≤ 2D
        // –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –≤–µ–∫—Ç–æ—Ä—ã –∏–º–µ—é—Ç –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ –∏–∑–º–µ—Ä–µ–Ω–∏–π
        const vectorRepresentations = {
            "–ø–µ—Å": { x: 0.1, y: 0.3, vector: [0.12, -0.88, 0.44, 0.29, -0.37], related: ["–≤–æ–ª–∫", "–∫–æ—Ç", "—Å–æ–±–∞–∫–∞"] },
            "–≤–æ–ª–∫": { x: 0.3, y: 0.2, vector: [0.18, -0.76, 0.39, 0.15, -0.42], related: ["–ø–µ—Å", "–ª–∏—Å–∞", "–∑–≤–µ—Ä—å"] },
            "–∫–æ—Ç": { x: -0.1, y: 0.4, vector: [-0.05, -0.82, 0.51, 0.32, -0.29], related: ["–ø–µ—Å", "–º—É—Ä–ª—ã–∫–∞—Ç—å", "–∫–æ—à–∫–∞"] },
            "—Ü–∞—Ä—å": { x: -0.8, y: -0.5, vector: [-0.72, 0.38, 0.19, -0.65, 0.28], related: ["–∫–æ—Ä–æ–ª—å", "–≤–ª–∞—Å—Ç—å", "–ø—Ä–∏–Ω—Ü–µ—Å—Å–∞"] },
            "–ø—Ä–∏–Ω—Ü–µ—Å—Å–∞": { x: -0.7, y: -0.3, vector: [-0.61, 0.29, 0.24, -0.48, 0.33], related: ["—Ü–∞—Ä–µ–≤–Ω–∞", "–∫–æ—Ä–æ–ª–µ–≤–∞", "—Ü–∞—Ä—å"] },
            "–¥–µ—Ä–µ–≤–æ": { x: 0.6, y: -0.4, vector: [0.58, 0.32, -0.46, -0.22, 0.41], related: ["–ª–µ—Å", "–ª–∏—Å—Ç—å—è", "—è–±–ª–æ–∫–æ"] },
            "—è–±–ª–æ–∫–æ": { x: 0.5, y: -0.2, vector: [0.44, 0.18, -0.39, -0.15, 0.36], related: ["—Ñ—Ä—É–∫—Ç", "–¥–µ—Ä–µ–≤–æ", "–∫—Ä–∞—Å–Ω—ã–π"] },
            "–∫–Ω–∏–≥–∞": { x: 0.2, y: -0.7, vector: [0.15, 0.61, -0.23, -0.68, 0.22], related: ["—á–∏—Ç–∞—Ç—å", "—Å—Ç—Ä–∞–Ω–∏—Ü–∞", "–∞–≤—Ç–æ—Ä"] },
            "–≤–æ–¥–∞": { x: 0.7, y: 0.6, vector: [0.65, -0.34, -0.52, 0.41, 0.19], related: ["–∂–∏–¥–∫–æ—Å—Ç—å", "—Ä–µ–∫–∞", "–º–æ—Ä–µ"] },
            "—Å–æ–ª–Ω—Ü–µ": { x: -0.5, y: 0.7, vector: [-0.42, -0.45, -0.38, 0.62, 0.25], related: ["—Å–≤–µ—Ç", "—Ç–µ–ø–ª–æ", "—è—Ä–∫–∏–π"] }
        };

        // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        // ----------------------------
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
            let currentMode = 'structure'; // 'structure' –∏–ª–∏ 'vector'
            let selectedWords = []; // –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
            let isDarkTheme = false; // –¢–µ–∫—É—â–∞—è —Ç–µ–º–∞

            // –û—Å–Ω–æ–≤–Ω—ã–µ DOM-—ç–ª–µ–º–µ–Ω—Ç—ã
            const svg = d3.select('#svg');
            const wordList = document.getElementById('wordList');
            const modeToggle = document.getElementById('modeToggle');
            const themeToggle = document.getElementById('themeToggle');
            const tooltip = d3.select('#tooltip');
            const tabs = document.querySelectorAll('.tab');
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–∫–ª–∞–¥–æ–∫
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
                    tab.classList.add('active');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
                    const tabId = tab.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Å–ª–æ–≤
            wordList.addEventListener('click', function(e) {
                if (e.target.classList.contains('word-item')) {
                    const word = e.target.getAttribute('data-word');
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∏–ª–∏ —É–¥–∞–ª—è–µ–º —Å–ª–æ–≤–æ –∏–∑ –≤—ã–±–æ—Ä–∫–∏
                    if (e.target.classList.contains('selected')) {
                        e.target.classList.remove('selected');
                        selectedWords = selectedWords.filter(w => w !== word);
                    } else {
                        e.target.classList.add('selected');
                        selectedWords.push(word);
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
                    updateVisualization();
                }
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞
            modeToggle.addEventListener('click', function() {
                currentMode = currentMode === 'structure' ? 'vector' : 'structure';
                modeToggle.textContent = `–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º: ${currentMode === 'structure' ? '–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–≤—è–∑–∏' : '–í–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ'}`;
                updateVisualization();
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
            themeToggle.addEventListener('click', function() {
                isDarkTheme = !isDarkTheme;
                document.documentElement.setAttribute('data-theme', isDarkTheme ? 'dark' : 'light');
                themeToggle.textContent = isDarkTheme ? 'üåô' : '‚òÄÔ∏è';
            });

            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
            function updateVisualization() {
                // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
                svg.selectAll('*').remove();
                
                // –ï—Å–ª–∏ –Ω–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤, –Ω–∏—á–µ–≥–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º
                if (selectedWords.length === 0) return;
                
                // –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—É –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                const g = svg.append('g');
                
                if (currentMode === 'structure') {
                    // –†–µ–∂–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Å–≤—è–∑–µ–π
                    drawStructuralLinks(g);
                } else {
                    // –†–µ–∂–∏–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
                    drawVectorSpace(g);
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
                setupZoom();
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Å–≤—è–∑–µ–π
            function drawStructuralLinks(g) {
                // –§–∏–ª—å—Ç—Ä—É–µ–º —Å–≤—è–∑–∏, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ —Ç–µ, –≥–¥–µ –æ–±–∞ —Å–ª–æ–≤–∞ –≤—ã–±—Ä–∞–Ω—ã
                const links = structuralLinks.filter(link => 
                    selectedWords.includes(link.source) && selectedWords.includes(link.target)
                );
                
                // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã —É–∑–ª–æ–≤
                const nodes = selectedWords.map(word => ({
                    id: word,
                    ...vectorRepresentations[word]
                }));
                
                // –ü–æ–ª—É—á–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã SVG-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
const width = svg.node().getBoundingClientRect().width;
const height = svg.node().getBoundingClientRect().height;

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–∏–ª–æ–≤—É—é —Å–∏–º—É–ª—è—Ü–∏—é —Å —É—á–µ—Ç–æ–º —Ä–∞–∑–º–µ—Ä–æ–≤
const simulation = d3.forceSimulation(nodes)
    .force('link', d3.forceLink(links).id(d => d.id).distance(100))
    .force('charge', d3.forceManyBody().strength(-300))
    .force('center', d3.forceCenter(width / 2, height / 2))
    .force('collision', d3.forceCollide().radius(40))  // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –Ω–∞–ª–æ–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤
    .force('x', d3.forceX(width / 2).strength(0.1))   // –ú—è–≥–∫–æ–µ –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ –∫ —Ü–µ–Ω—Ç—Ä—É –ø–æ X
    .force('y', d3.forceY(height / 2).strength(0.1)); // –ú—è–≥–∫–æ–µ –ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ –∫ —Ü–µ–Ω—Ç—Ä—É –ø–æ Y
                
                // –°–æ–∑–¥–∞–µ–º –ª–∏–Ω–∏–∏ –¥–ª—è —Å–≤—è–∑–µ–π
                const link = g.append('g')
                    .selectAll('line')
                    .data(links)
                    .enter().append('line')
                    .attr('stroke', 'var(--accent-color)')
                    .attr('stroke-opacity', 0.6)
                    .attr('stroke-width', 2);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å–∏ –∫ —Å–≤—è–∑—è–º
                const linkLabels = g.append('g')
                    .selectAll('text')
                    .data(links)
                    .enter().append('text')
                    .attr('fill', 'var(--secondary-text)')
                    .attr('font-size', '10px')
                    .attr('text-anchor', 'middle')
                    .text(d => d.type);
                
                // –°–æ–∑–¥–∞–µ–º —É–∑–ª—ã (—Å–ª–æ–≤–∞)
                const node = g.append('g')
                    .selectAll('g')
                    .data(nodes)
                    .enter().append('g')
                    .call(d3.drag()
                        .on('start', dragstarted)
                        .on('drag', dragged)
                        .on('end', dragended));
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä—É–≥–∏ –¥–ª—è —É–∑–ª–æ–≤
                node.append('circle')
                    .attr('r', 30)
                    .attr('fill', 'var(--content-color)')
                    .attr('stroke', 'var(--accent-color)')
                    .attr('stroke-width', 2);
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç —É–∑–ª–æ–≤
                node.append('text')
                    .attr('text-anchor', 'middle')
                    .attr('dy', '.35em')
                    .attr('fill', 'var(--text-color)')
                    .text(d => d.id);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏—è –¥–ª—è —É–∑–ª–æ–≤
                node.on('mouseover', function(event, d) {
                    showTooltip(event, d);
                })
                .on('mouseout', function() {
                    hideTooltip();
                });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–∏–º—É–ª—è—Ü–∏–∏
                simulation.on('tick', () => {
                    link
                        .attr('x1', d => d.source.x)
                        .attr('y1', d => d.source.y)
                        .attr('x2', d => d.target.x)
                        .attr('y2', d => d.target.y);
                        
                    linkLabels
                        .attr('x', d => (d.source.x + d.target.x) / 2)
                        .attr('y', d => (d.source.y + d.target.y) / 2);
                        
                    node
                        .attr('transform', d => `translate(${d.x},${d.y})`);
                });
                
                // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —É–∑–ª–æ–≤
                function dragstarted(event, d) {
                    if (!event.active) simulation.alphaTarget(0.3).restart();
                    d.fx = d.x;
                    d.fy = d.y;
                }
                
                function dragged(event, d) {
                    d.fx = event.x;
                    d.fy = event.y;
                }
                
                function dragended(event, d) {
                    if (!event.active) simulation.alphaTarget(0);
                    d.fx = null;
                    d.fy = null;
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
            function drawVectorSpace(g) {
const width = svg.node().getBoundingClientRect().width;
const height = svg.node().getBoundingClientRect().height;
const padding = Math.min(width, height) * 0.1; // –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã

// –°–æ–∑–¥–∞–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Å–µ–π —Å —É—á–µ—Ç–æ–º –æ—Ç—Å—Ç—É–ø–æ–≤
const xScale = d3.scaleLinear()
    .domain([-1, 1])
    .range([padding, width - padding]);
    
const yScale = d3.scaleLinear()
    .domain([-1, 1])
    .range([height - padding, padding]);
                
                // –°–æ–∑–¥–∞–µ–º –æ—Å–∏
                const xAxis = d3.axisBottom(xScale);
                const yAxis = d3.axisLeft(yScale);
                
                g.append('g')
                    .attr('transform', `translate(0,${height - padding})`)
                    .call(xAxis);
                    
                g.append('g')
                    .attr('transform', `translate(${padding},0)`)
                    .call(yAxis);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å–∏ –∫ –æ—Å—è–º
                g.append('text')
                    .attr('text-anchor', 'middle')
                    .attr('x', width / 2)
                    .attr('y', height - 10)
                    .text('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ 1')
                    .attr('fill', 'var(--secondary-text)');
                    
                g.append('text')
                    .attr('text-anchor', 'middle')
                    .attr('transform', `translate(15,${height / 2})rotate(-90)`)
                    .text('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ 2')
                    .attr('fill', 'var(--secondary-text)');
                
                // –§–∏–ª—å—Ç—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Å–ª–æ–≤–∞–º
                const nodes = selectedWords.map(word => ({
                    id: word,
                    ...vectorRepresentations[word]
                }));
                
                // –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—ã –¥–ª—è —Ç–æ—á–µ–∫
                const node = g.append('g')
                    .selectAll('g')
                    .data(nodes)
                    .enter().append('g')
                    .attr('transform', d => `translate(${xScale(d.x)},${yScale(d.y)})`);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä—É–≥–∏
                node.append('circle')
                    .attr('r', 20)
                    .attr('fill', 'var(--content-color)')
                    .attr('stroke', 'var(--accent-color)')
                    .attr('stroke-width', 2);
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
                node.append('text')
                    .attr('text-anchor', 'middle')
                    .attr('dy', '.35em')
                    .attr('fill', 'var(--text-color)')
                    .text(d => d.id);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏—è
                node.on('mouseover', function(event, d) {
                    showTooltip(event, d);
                })
                .on('mouseout', function() {
                    hideTooltip();
                });
            }
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
            function setupZoom() {
    const width = svg.node().getBoundingClientRect().width;
    const height = svg.node().getBoundingClientRect().height;
    
    const zoom = d3.zoom()
        .scaleExtent([0.5, 5])
        .on('zoom', (event) => {
            svg.select('g').attr('transform', event.transform);
        });
    
    // –ù–∞—á–∞–ª—å–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
    const initialScale = 0.9;
    const transform = d3.zoomIdentity
        .translate(width / 2, height / 2)
        .scale(initialScale)
        .translate(-width / 2, -height / 2);
    
    svg.call(zoom)
       .call(zoom.transform, transform);
}



            
            function showTooltip(event, d) {
    // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –∏ –ø–æ–∑–∏—Ü–∏—é SVG-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    const svgRect = svg.node().getBoundingClientRect();
    const visualization = document.getElementById('visualization');
    const visRect = visualization.getBoundingClientRect();
    
    // –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ SVG
    const mouseX = event.clientX - visRect.left;
    const mouseY = event.clientY - visRect.top;
    
    // –°–æ–∑–¥–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
    const vectorData = vectorRepresentations[d.id];
    const vectorString = vectorData.vector.map(v => v.toFixed(2)).join(', ');
    const relatedWords = vectorData.related.map(word => 
        `<span class="related-word">${word}</span>`
    ).join(' ');
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
    const tooltipElement = tooltip.node();
    tooltip.html(`
        <div><strong>${d.id}</strong></div>
        <div class="word-vector">[${vectorString}]</div>
        <div class="related-words">
            <div>–ë–ª–∏–∂–∞–π—à–∏–µ —Å–ª–æ–≤–∞:</div>
            ${relatedWords}
        </div>
    `);
    
    // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏
    const tooltipRect = tooltipElement.getBoundingClientRect();
    
    // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –ø–æ–¥—Å–∫–∞–∑–∫–∏
    let tooltipX = mouseX + 10;
    let tooltipY = mouseY - 10;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∑–∞ –ø—Ä–∞–≤—ã–π –∫—Ä–∞–π
    if (tooltipX + tooltipRect.width > visRect.width) {
        tooltipX = mouseX - tooltipRect.width - 10;
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∑–∞ –Ω–∏–∂–Ω–∏–π –∫—Ä–∞–π
    if (tooltipY + tooltipRect.height > visRect.height) {
        tooltipY = mouseY - tooltipRect.height - 10;
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∑–∞ –≤–µ—Ä—Ö–Ω–∏–π –∫—Ä–∞–π
    if (tooltipY < 0) {
        tooltipY = 10;
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∑–∞ –ª–µ–≤—ã–π –∫—Ä–∞–π
    if (tooltipX < 0) {
        tooltipX = 10;
    }
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é
    tooltip
        .style('left', `${tooltipX}px`)
        .style('top', `${tooltipY}px`)
        .style('opacity', 1);
}
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏
            function hideTooltip() {
                tooltip.style('opacity', 0);
            }
            
            // –í—ã–±–µ—Ä–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
            const defaultWords = ["–ø–µ—Å", "–≤–æ–ª–∫", "–∫–æ—Ç", "—Ü–∞—Ä—å"];
            defaultWords.forEach(word => {
                const wordItem = document.querySelector(`.word-item[data-word="${word}"]`);
                if (wordItem) {
                    wordItem.classList.add('selected');
                    selectedWords.push(word);
                }
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
            updateVisualization();
        });
		
		window.addEventListener('resize', handleResize);
    </script>
</body>
</html>