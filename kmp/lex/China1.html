<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ì—Ä–∞—Ñ —Ç–µ—Ä–º–∏–Ω–æ–≤ –ò–ò –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º</title>
  <script src="https://d3js.org/d3.v7.min.min.js"></script> 
  <style>
    :root {
      --bg-color: white;
      --text-color: black;
      --node-fill: steelblue;
      --link-color: #999;
    }

    .dark-mode {
      --bg-color: #121212;
      --text-color: white;
      --node-fill: #bb86fc;
      --link-color: #ccc;
    }

    body {
      margin: 0;
      font-family: sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      overflow: hidden;
    }

    svg {
      width: 100vw;
      height: 100vh;
      display: block;
    }

    .node circle {
      fill: var(--node-fill);
      stroke: var(--text-color);
      stroke-width: 1.5px;
      cursor: grab;
    }

    .node text {
      font-size: 14px;
      pointer-events: none;
      dominant-baseline: middle;
      text-anchor: middle;
    }

    .link {
      stroke: var(--link-color);
      stroke-width: 1.5px;
    }

    #theme-toggle {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 10;
      padding: 8px 12px;
      background-color: var(--node-fill);
      color: var(--text-color);
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    @media (max-width: 768px) {
      .node text {
        font-size: 10px;
      }

      .node circle {
        r: 14;
      }

      #theme-toggle {
        font-size: 12px;
        padding: 6px 10px;
      }
    }
  </style>
</head>
<body>
  <button id="theme-toggle">üåô –¢–µ–º–Ω–∞—è —Ç–µ–º–∞</button>
  <svg></svg>

  <script>
    const nodes = [
      { id: "‰∫∫Â∑•Êô∫ËÉΩ", name: "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç", pinyin: "r√©n g≈çng zh√¨ n√©ng", eng: "Artificial Intelligence" },
      { id: "Êú∫Âô®Â≠¶‰π†", name: "–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ", pinyin: "jƒ´ q√¨ xu√© x√≠", eng: "Machine Learning" },
      { id: "Ê∑±Â∫¶Â≠¶‰π†", name: "–ì–ª—É–±–æ–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ", pinyin: "shƒìn d√π xu√© x√≠", eng: "Deep Learning" },
      { id: "Á•ûÁªèÁΩëÁªú", name: "–ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å", pinyin: "sh√©n jƒ´ng w«éng lu√≤", eng: "Neural Network" },
      { id: "Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜ", name: "–û–±—Ä–∞–±–æ—Ç–∫–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞", pinyin: "z√¨ r√°n y«î y√°n ch«î l«ê", eng: "NLP" },
      { id: "ËÆ°ÁÆóÊú∫ËßÜËßâ", name: "–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ", pinyin: "j√¨ su√†n jƒ´ sh√¨ ju√©", eng: "Computer Vision" },
      { id: "Êï∞ÊçÆÊåñÊéò", name: "–î–æ–±—ã—á–∞ –¥–∞–Ω–Ω—ã—Ö", pinyin: "sh√π j√π zu√†n ku√†ng", eng: "Data Mining" },
      { id: "Âº∫ÂåñÂ≠¶‰π†", name: "–ü–æ–¥–∫—Ä–µ–ø–ª—è—é—â–µ–µ –æ–±—É—á–µ–Ω–∏–µ", pinyin: "qi«éng hu√† xu√© x√≠", eng: "Reinforcement Learning" }
    ];

    const links = [
      { source: "‰∫∫Â∑•Êô∫ËÉΩ", target: "Êú∫Âô®Â≠¶‰π†" },
      { source: "Êú∫Âô®Â≠¶‰π†", target: "Ê∑±Â∫¶Â≠¶‰π†" },
      { source: "Ê∑±Â∫¶Â≠¶‰π†", target: "Á•ûÁªèÁΩëÁªú" },
      { source: "Á•ûÁªèÁΩëÁªú", target: "Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜ" },
      { source: "Á•ûÁªèÁΩëÁªú", target: "ËÆ°ÁÆóÊú∫ËßÜËßâ" },
      { source: "‰∫∫Â∑•Êô∫ËÉΩ", target: "Êï∞ÊçÆÊåñÊéò" },
      { source: "Êú∫Âô®Â≠¶‰π†", target: "Âº∫ÂåñÂ≠¶‰π†" },
      { source: "‰∫∫Â∑•Êô∫ËÉΩ", target: "ËÆ°ÁÆóÊú∫ËßÜËßâ" }
    ];

    const svg = d3.select("svg");
    const width = window.innerWidth;
    const height = window.innerHeight;

    const zoom = d3.zoom().on("zoom", (event) => {
      g.attr("transform", event.transform);
    });

    svg.call(zoom);

    const g = svg.append("g");

    const simulation = d3.forceSimulation(nodes)
      .force("link", d3.forceLink(links).id(d => d.id).distance(120))
      .force("charge", d3.forceManyBody().strength(-300))
      .force("center", d3.forceCenter(width / 2, height / 2));

    const link = g.append("g")
      .attr("stroke", "#999")
      .selectAll("line")
      .data(links)
      .join("line")
      .attr("class", "link");

    const node = g.append("g")
      .selectAll("circle")
      .data(nodes)
      .join("circle")
      .attr("r", 16)
      .attr("class", "node")
      .call(drag(simulation));

    const label = g.append("g")
      .selectAll("text")
      .data(nodes)
      .join("text")
      .text(d => d.id)
      .attr("dy", ".35em")
      .attr("class", "label");

    simulation.on("tick", () => {
      link
        .attr("x1", d => d.source.x)
        .attr("y1", d => d.source.y)
        .attr("x2", d => d.target.x)
        .attr("y2", d => d.target.y);

      node
        .attr("cx", d => d.x)
        .attr("cy", d => d.y);

      label
        .attr("x", d => d.x)
        .attr("y", d => d.y);
    });

    // Tooltip on hover
    const tooltip = d3.select("body").append("div")
      .attr("class", "tooltip")
      .style("position", "absolute")
      .style("background", "#222")
      .style("color", "#fff")
      .style("padding", "6px 10px")
      .style("border-radius", "4px")
      .style("opacity", 0);

    node.on("mouseover", function(event, d) {
      tooltip.transition().duration(200).style("opacity", .9);
      tooltip.html(`
        <strong>${d.id}</strong><br/>
        ${d.name}<br/>
        –ü–∏–Ω—å–∏–Ω—å: ${d.pinyin}<br/>
        Eng: ${d.eng}
      `)
      .style("left", (event.pageX + 10) + "px")
      .style("top", (event.pageY - 30) + "px");
    })
    .on("mouseout", function() {
      tooltip.transition().duration(500).style("opacity", 0);
    });

    // Drag handler
    function drag(simulation) {
      function dragstarted(event, d) {
        if (!event.active) simulation.alphaTarget(0.3).restart();
        d.fx = d.x;
        d.fy = d.y;
      }

      function dragged(event, d) {
        d.fx = event.x;
        d.fy = event.y;
      }

      function dragended(event, d) {
        if (!event.active) simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
      }

      return d3.drag()
        .on("start", dragstarted)
        .on("drag", dragged)
        .on("end", dragended);
    }

    // Toggle theme
    document.getElementById("theme-toggle").addEventListener("click", function () {
      document.body.classList.toggle("dark-mode");
    });
  </script>
</body>
</html>