<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Стохастический словарь ИИ</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #6b8cae;
            --text-color: #333;
            --background-color: #f5f7fa;
            --card-bg: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --accent-color: #ff7e5f;
        }
        
        [data-theme="dark"] {
            --primary-color: #6b8cae;
            --secondary-color: #4a6fa5;
            --text-color: #e0e0e0;
            --background-color: #1a1a2e;
            --card-bg: #16213e;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --accent-color: #ff7e5f;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        h1 {
            color: var(--primary-color);
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
        }
        
        .card {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 15px var(--shadow-color);
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .search-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        input, select, button {
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--secondary-color);
        }
        
        .result {
            margin-top: 20px;
        }
        
        .term-title {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .definition {
            font-size: 1.1rem;
            margin-bottom: 15px;
            line-height: 1.7;
        }
        
        .context-list {
            list-style: none;
        }
        
        .context-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .context {
            flex-grow: 1;
        }
        
        .probability {
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .game-container {
            display: none;
        }
        
        .game-question {
            margin-bottom: 20px;
        }
        
        .context-option {
            display: block;
            padding: 15px;
            margin: 10px 0;
            background-color: var(--card-bg);
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .context-option:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .context-option.selected {
            background-color: var(--primary-color);
            color: white;
        }
        
        .game-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--accent-color);
            transition: width 0.3s;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            width: 80%;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        .certificate {
            border: 5px solid var(--primary-color);
            padding: 30px;
            text-align: center;
            background-color: var(--card-bg);
            position: relative;
        }
        
        .certificate h2 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .certificate p {
            margin: 10px 0;
            font-size: 1.1rem;
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .search-container {
                flex-direction: column;
            }
            
            .game-controls {
                flex-direction: column;
                gap: 10px;
            }
			
			.modal-content {
                width: 95%;
                padding: 20px;
            }
            
            .certificate {
                padding: 15px;
            }
        }
		
		/* Стили для кнопки "О приложении" */
    .info-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 50px;
        padding: 10px 20px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
        z-index: 100;
    }
    
    .info-button:hover {
        background-color: var(--secondary-color);
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.25);
    }
    
    /* Стили для информационного блока */
    .info-block {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        overflow-y: auto;
        padding: 20px;
    }
    
    .info-content {
        background-color: var(--card-bg);
        max-width: 900px;
        margin: 30px auto;
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        color: var(--text-color);
    }
    
    .info-content h2 {
        color: var(--primary-color);
        font-size: 2.2rem;
        margin-bottom: 30px;
        text-align: center;
    }
    
    .info-section {
        margin-bottom: 30px;
    }
    
    .info-section h3 {
        color: var(--primary-color);
        font-size: 1.5rem;
        margin-bottom: 15px;
        padding-bottom: 8px;
        border-bottom: 2px solid var(--secondary-color);
    }
    
    .info-section p {
        line-height: 1.7;
        margin-bottom: 15px;
    }
    
     .info-section ul {
        padding-left: 20px;
        margin-bottom: 15px;
    }
    
    .info-section li {
        margin-bottom: 10px;
        line-height: 1.6;
    }
    
    .close-info {
        display: block;
        margin: 20px auto 0;
        padding: 12px 25px;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    
    .close-info:hover {
        background-color: var(--secondary-color);
    }
    
    /* Адаптивность для мобильных устройств */
    @media (max-width: 768px) {
        .info-content {
            padding: 25px;
            margin: 15px auto;
        }
        
        .info-content h2 {
            font-size: 1.8rem;
        }
        
        .info-section h3 {
            font-size: 1.3rem;
        }
        
        .info-button {
            bottom: 15px;
            right: 15px;
            padding: 8px 16px;
            font-size: 0.9rem;
        }
    }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Стохастический словарь ИИ</h1>
            <button class="theme-toggle" id="themeToggle">🌙</button>
        </header>
        
        <div class="card" id="dictionaryMode">
            <div class="search-container">
                <select id="termSelect">
                    <option value="">Выберите термин</option>
                    <option value="ai">Искусственный интеллект</option>
                    <option value="learning">Обучение</option>
                    <option value="text">Текст</option>
                    <option value="language">Язык</option>
                    <option value="translation">Перевод</option>
                </select>
                <input type="text" id="termInput" placeholder="Введите термин">
                <button id="searchBtn">Поиск</button>
                <button id="gameBtn">Игра</button>
            </div>
            
            <div class="result" id="result">
                <p>Выберите или введите термин для получения информации.</p>
            </div>
        </div>
        
        <div class="card game-container" id="gameMode">
            <h2>Игровой режим</h2>
            <div id="gameSetup">
                <p>Введите вашу фамилию для начала игры:</p>
                <input type="text" id="userLastName" placeholder="Фамилия">
                <button id="startGameBtn">Начать игру</button>
            </div>
            
            <div id="gamePlay" style="display: none;">
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                
                <div class="game-question">
                    <h3 id="questionTerm"></h3>
                    <p id="questionDefinition"></p>
                    <p>Выберите контекст, где вероятность этого определения наивысшая:</p>
                </div>
                
                <div id="contextOptions"></div>
                
                <div class="game-controls">
                    <span id="questionCounter">Вопрос 1 из 10</span>
                    <button id="nextQuestionBtn">Далее</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Кнопка для открытия информационного блока -->
<button id="infoBtn" class="info-button">О приложении</button>

<!-- Информационный блок -->
<div id="infoBlock" class="info-block">
    <div class="info-content">
        <h2>О стохастическом словаре ИИ</h2>
        
        <section class="info-section">
            <h3>Описание приложения</h3>
            <p>Это интерактивное веб-приложение представляет собой учебный стохастический словарь терминов из области искусственного интеллекта. Приложение демонстрирует вероятностную природу языка и контекстуальные зависимости технических терминов, что особенно важно при изучении современных языковых моделей и систем ИИ.</p>
        </section>
        
        <section class="info-section">
            <h3>Основные возможности</h3>
            <ul>
                <li><strong>Словарный режим</strong> — позволяет изучать термины и их контекстуальные значения с указанием вероятностей для различных областей применения</li>
                <li><strong>Игровой режим</strong> — интерактивный тест из 10 вопросов на определение наиболее вероятного контекста для заданного определения термина</li>
                <li><strong>Персональный сертификат</strong> — по завершении игры генерируется именной сертификат с результатами и статистикой</li>
                <li><strong>Темная тема</strong> — возможность переключения между светлым и темным интерфейсом для комфортной работы</li>
                <li><strong>Адаптивный дизайн</strong> — оптимизация для работы как на компьютерах, так и на мобильных устройствах</li>
            </ul>
        </section>
        
        <section class="info-section">
            <h3>Дидактический потенциал для студентов-лингвистов</h3>
            <p>Данное приложение имеет значительную образовательную ценность для студентов, изучающих компьютерную лингвистику и искусственный интеллект:</p>
            <ul>
                <li>Демонстрирует вероятностную природу языка и контекстуальную зависимость значений терминов</li>
                <li>Помогает понять принципы работы современных языковых моделей, основанных на вероятностных методах</li>
                <li>Знакомит с ключевыми концепциями и терминологией в области обработки естественного языка и ИИ</li>
                <li>Развивает навык определения наиболее подходящего контекста для технических терминов</li>
                <li>Иллюстрирует, как один и тот же термин может иметь различную значимость в разных областях применения</li>
            </ul>
        </section>
        
        <section class="info-section">
            <h3>Использованные технологии</h3>
            <ul>
                <li><strong>HTML5</strong> — для структурирования содержимого приложения</li>
                <li><strong>CSS3</strong> — для стилизации интерфейса, включая адаптивный дизайн и темную тему</li>
                <li><strong>JavaScript (ES6+)</strong> — для реализации интерактивной логики приложения</li>
                <li><strong>JSON</strong> — для структурированного хранения данных словаря</li>
                <li><strong>Современные принципы UI/UX дизайна</strong> — для создания интуитивно понятного и эстетичного интерфейса</li>
                <li><strong>Принципы стохастической лингвистики</strong> — для моделирования вероятностной природы терминологии</li>
            </ul>
        </section>
        
        <section class="info-section">
            <h3>Применение в образовательном процессе</h3>
            <p>Приложение может быть использовано в качестве:</p>
            <ul>
                <li>Дополнительного учебного материала для курсов по компьютерной лингвистике и ИИ</li>
                <li>Интерактивного инструмента для самостоятельного изучения терминологии</li>
                <li>Демонстрационного примера вероятностных моделей языка</li>
                <li>Основы для дальнейших исследовательских проектов студентов</li>
            </ul>
        </section>
        
        <button id="closeInfoBtn" class="close-info">Закрыть</button>
    </div>
</div>
    <div class="modal" id="certificateModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <div class="certificate" id="certificate">
                <h2>Сертификат</h2>
                <p>Настоящим подтверждается, что</p>
                <p id="certName" style="font-size: 1.5rem; font-weight: bold; margin: 15px 0;"></p>
                <p>успешно прошел(а) тест на знание стохастического словаря ИИ</p>
                <p>Правильных ответов: <span id="certScore"></span> из 10</p>
                <p>Дата: <span id="certDate"></span></p>
                <p>Время: <span id="certTime"></span></p>
                <p>Продолжительность: <span id="certDuration"></span></p>
            </div>
        </div>
    </div>

    <script>
        // Данные словаря в формате JSON
        const dictionaryData = {
            "ai": {
                "name": "Искусственный интеллект",
                "definitions": [
                    {
                        "text": "Способность компьютерной системы имитировать когнитивные функции человека, такие как обучение и решение проблем.",
                        "contexts": [
                            { "context": "Научные исследования", "probability": 0.85 },
                            { "context": "Технологическая индустрия", "probability": 0.92 },
                            { "context": "Философия сознания", "probability": 0.65 },
                            { "context": "Медицина", "probability": 0.45 }
                        ]
                    },
                    {
                        "text": "Область компьютерных наук, направленная на создание систем, способных выполнять задачи, требующие человеческого интеллекта.",
                        "contexts": [
                            { "context": "Академическое образование", "probability": 0.88 },
                            { "context": "Разработка программного обеспечения", "probability": 0.90 },
                            { "context": "Бизнес-аналитика", "probability": 0.75 },
                            { "context": "Искусство", "probability": 0.30 }
                        ]
                    },
                    {
                        "text": "Совокупность алгоритмов и математических моделей, позволяющих компьютеру обучаться на основе данных без явного программирования.",
                        "contexts": [
                            { "context": "Машинное обучение", "probability": 0.95 },
                            { "context": "Анализ данных", "probability": 0.87 },
                            { "context": "Робототехника", "probability": 0.78 },
                            { "context": "Литература", "probability": 0.15 }
                        ]
                    }
                ]
            },
            "learning": {
                "name": "Обучение",
                "definitions": [
                    {
                        "text": "Процесс приобретения моделью ИИ новых знаний и навыков на основе данных и опыта.",
                        "contexts": [
                            { "context": "Машинное обучение", "probability": 0.93 },
                            { "context": "Нейронные сети", "probability": 0.89 },
                            { "context": "Педагогика", "probability": 0.40 },
                            { "context": "Психология", "probability": 0.35 }
                        ]
                    },
                    {
                        "text": "Алгоритмический подход, позволяющий системе автоматически улучшать свою производительность с опытом.",
                        "contexts": [
                            { "context": "Глубокое обучение", "probability": 0.91 },
                            { "context": "Разработка алгоритмов", "probability": 0.85 },
                            { "context": "Робототехника", "probability": 0.79 },
                            { "context": "Спорт", "probability": 0.20 }
                        ]
                    },
                    {
                        "text": "Способность системы ИИ адаптироваться к новым условиям и данным без перепрограммирования.",
                        "contexts": [
                            { "context": "Адаптивные системы", "probability": 0.88 },
                            { "context": "Обработка данных", "probability": 0.82 },
                            { "context": "Автоматизация", "probability": 0.75 },
                            { "context": "Образование", "probability": 0.45 }
                        ]
                    }
                ]
            },
            "text": {
                "name": "Текст",
				"definitions": [
                    {
                        "text": "Последовательность символов, которая обрабатывается моделями ИИ для извлечения смысла и контекста.",
                        "contexts": [
                            { "context": "Обработка естественного языка", "probability": 0.94 },
                            { "context": "Анализ данных", "probability": 0.87 },
                            { "context": "Лингвистика", "probability": 0.80 },
                            { "context": "Программирование", "probability": 0.65 }
                        ]
                    },
                    {
                        "text": "Форма данных, используемая для обучения языковых моделей и систем машинного перевода.",
                        "contexts": [
                            { "context": "Машинное обучение", "probability": 0.92 },
                            { "context": "Компьютерная лингвистика", "probability": 0.88 },
                            { "context": "Разработка ИИ", "probability": 0.85 },
                            { "context": "Литературоведение", "probability": 0.40 }
                        ]
                    },
                    {
                        "text": "Структурированная или неструктурированная информация, представленная в виде слов и предложений.",
                        "contexts": [
                            { "context": "Информационный поиск", "probability": 0.90 },
                            { "context": "Текстовая аналитика", "probability": 0.87 },
                            { "context": "Документооборот", "probability": 0.75 },
                            { "context": "Математика", "probability": 0.15 }
                        ]
                    }
                ]
            },
            "language": {
                "name": "Язык",
                "definitions": [
                    {
                        "text": "Система коммуникации, которую ИИ изучает для понимания и генерации человеческой речи.",
                        "contexts": [
                            { "context": "Обработка естественного языка", "probability": 0.96 },
                            { "context": "Лингвистика", "probability": 0.90 },
                            { "context": "Когнитивные науки", "probability": 0.75 },
                            { "context": "Программирование", "probability": 0.60 }
                        ]
                    },
                    {
                        "text": "Структурированный набор символов и правил, используемых для передачи информации между людьми и машинами.",
                        "contexts": [
                            { "context": "Компьютерная лингвистика", "probability": 0.89 },
                            { "context": "Искусственный интеллект", "probability": 0.85 },
                            { "context": "Семантический анализ", "probability": 0.80 },
                            { "context": "Биология", "probability": 0.20 }
                        ]
                    },
                    {
                        "text": "Средство выражения мыслей и идей, которое анализируется и моделируется алгоритмами ИИ.",
                        "contexts": [
                            { "context": "Языковые модели", "probability": 0.93 },
                            { "context": "Семантические сети", "probability": 0.85 },
                            { "context": "Коммуникационные технологии", "probability": 0.75 },
                            { "context": "Физика", "probability": 0.10 }
                        ]
                    }
                ]
            },
            "translation": {
                "name": "Перевод",
                "definitions": [
                    {
                        "text": "Процесс преобразования текста с одного языка на другой с сохранением смысла и контекста.",
                        "contexts": [
                            { "context": "Машинный перевод", "probability": 0.95 },
                            { "context": "Лингвистика", "probability": 0.88 },
                            { "context": "Международные коммуникации", "probability": 0.80 },
                            { "context": "Математика", "probability": 0.15 }
                        ]
                    },
                    {
                        "text": "Автоматизированная задача ИИ, требующая понимания семантики, грамматики и культурных особенностей языков.",
                        "contexts": [
                            { "context": "Искусственный интеллект", "probability": 0.92 },
                            { "context": "Компьютерная лингвистика", "probability": 0.90 },
                            { "context": "Обработка естественного языка", "probability": 0.87 },
                            { "context": "Физика", "probability": 0.10 }
                        ]
                    },
                    {
                        "text": "Технология, позволяющая преодолевать языковые барьеры с помощью нейронных сетей и глубокого обучения.",
                        "contexts": [
                            { "context": "Нейронный машинный перевод", "probability": 0.94 },
                            { "context": "Технологические инновации", "probability": 0.85 },
                            { "context": "Глобализация", "probability": 0.70 },
                            { "context": "Биология", "probability": 0.20 }
                        ]
                    }
                ]
            }
        };

        // Элементы DOM
        const themeToggle = document.getElementById('themeToggle');
        const termSelect = document.getElementById('termSelect');
        const termInput = document.getElementById('termInput');
        const searchBtn = document.getElementById('searchBtn');
        const gameBtn = document.getElementById('gameBtn');
        const result = document.getElementById('result');
        
        const dictionaryMode = document.getElementById('dictionaryMode');
        const gameMode = document.getElementById('gameMode');
        const gameSetup = document.getElementById('gameSetup');
        const gamePlay = document.getElementById('gamePlay');
        
        const userLastName = document.getElementById('userLastName');
        const startGameBtn = document.getElementById('startGameBtn');
        const questionTerm = document.getElementById('questionTerm');
        const questionDefinition = document.getElementById('questionDefinition');
        const contextOptions = document.getElementById('contextOptions');
        const questionCounter = document.getElementById('questionCounter');
        const nextQuestionBtn = document.getElementById('nextQuestionBtn');
        const progressBar = document.getElementById('progressBar');
        
        const certificateModal = document.getElementById('certificateModal');
        const closeModal = document.getElementById('closeModal');
        const certName = document.getElementById('certName');
        const certScore = document.getElementById('certScore');
        const certDate = document.getElementById('certDate');
        const certTime = document.getElementById('certTime');
        const certDuration = document.getElementById('certDuration');

        // Состояние приложения
        let currentTheme = 'light';
        let gameState = {
            lastName: '',
            currentQuestion: 0,
            correctAnswers: 0,
            questions: [],
            selectedOption: null,
            startTime: null
        };

        // Переключение темы
        themeToggle.addEventListener('click', () => {
            if (currentTheme === 'light') {
                document.documentElement.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '☀️';
                currentTheme = 'dark';
            } else {
			document.documentElement.removeAttribute('data-theme');
                themeToggle.textContent = '🌙';
                currentTheme = 'light';
            }
        });

        // Поиск термина
        function searchTerm() {
            let term = termInput.value.toLowerCase();
            
            if (!term) {
                term = termSelect.value;
            }
            
            if (!term) {
                result.innerHTML = '<p>Пожалуйста, выберите или введите термин.</p>';
                return;
            }
            
            // Сопоставление введенного термина с ключами в словаре
            let termKey = '';
            if (term === 'искусственный интеллект' || term === 'ии') {
                termKey = 'ai';
            } else if (term === 'обучение') {
                termKey = 'learning';
            } else if (term === 'текст') {
                termKey = 'text';
            } else if (term === 'язык') {
                termKey = 'language';
            } else if (term === 'перевод') {
                termKey = 'translation';
            } else {
                termKey = term;
            }
            
            const termData = dictionaryData[termKey];
            
            if (!termData) {
                result.innerHTML = '<p>Термин не найден. Пожалуйста, выберите один из доступных терминов.</p>';
                return;
            }
            
            // Выбираем случайное определение
            const randomIndex = Math.floor(Math.random() * termData.definitions.length);
            const definition = termData.definitions[randomIndex];
            
            // Сортируем контексты по вероятности (от высокой к низкой)
            const sortedContexts = [...definition.contexts].sort((a, b) => b.probability - a.probability);
            
            // Формируем HTML для отображения результата
            let resultHTML = `
                <h2 class="term-title">${termData.name}</h2>
                <p class="definition">${definition.text}</p>
                <h3>Контексты и вероятности:</h3>
                <ul class="context-list">
            `;
            
            sortedContexts.forEach(ctx => {
                resultHTML += `
                    <li class="context-item">
                        <span class="context">${ctx.context}</span>
                        <span class="probability">${(ctx.probability * 100).toFixed(1)}%</span>
                    </li>
                `;
            });
            
            resultHTML += '</ul>';
            result.innerHTML = resultHTML;
        }

        searchBtn.addEventListener('click', searchTerm);
        
        // Обработка выбора из выпадающего списка
        termSelect.addEventListener('change', () => {
            if (termSelect.value) {
                termInput.value = '';
                searchTerm();
            }
        });
        
        // Обработка ввода в поле ввода
        termInput.addEventListener('keyup', (e) => {
            if (e.key === 'Enter') {
                termSelect.value = '';
                searchTerm();
            }
        });
        
        // Переключение на игровой режим
        gameBtn.addEventListener('click', () => {
            dictionaryMode.style.display = 'none';
            gameMode.style.display = 'block';
            gameSetup.style.display = 'block';
            gamePlay.style.display = 'none';
        });
        
        // Начало игры
        startGameBtn.addEventListener('click', () => {
            const lastName = userLastName.value.trim();
            
            if (!lastName) {
                alert('Пожалуйста, введите вашу фамилию для начала игры.');
                return;
            }
            
            // Инициализация игры
            gameState.lastName = lastName;
            gameState.currentQuestion = 0;
            gameState.correctAnswers = 0;
            gameState.startTime = new Date();
            
            // Генерация вопросов
            generateQuestions();
            
            // Показываем игровой интерфейс
            gameSetup.style.display = 'none';
            gamePlay.style.display = 'block';
            
            // Загружаем первый вопрос
            loadQuestion();
        });
        
        // Генерация случайных вопросов для игры
        function generateQuestions() {
            gameState.questions = [];
            
            // Получаем все термины
            const terms = Object.keys(dictionaryData);
            
            // Генерируем 10 вопросов
            for (let i = 0; i < 10; i++) {
                // Выбираем случайный термин
                const randomTermIndex = Math.floor(Math.random() * terms.length);
                const termKey = terms[randomTermIndex];
                const termData = dictionaryData[termKey];
                
                // Выбираем случайное определение
                const randomDefIndex = Math.floor(Math.random() * termData.definitions.length);
                const definition = termData.definitions[randomDefIndex];
                
                // Создаем вопрос
                gameState.questions.push({
                    term: termData.name,
                    definition: definition.text,
                    contexts: definition.contexts,
                    correctContextIndex: definition.contexts.reduce((maxIndex, ctx, index, array) => {
                        return ctx.probability > array[maxIndex].probability ? index : maxIndex;
                    }, 0)
                });
            }
        }
        
        // Загрузка текущего вопроса
        function loadQuestion() {
            const question = gameState.questions[gameState.currentQuestion];
            
            // Обновляем счетчик вопросов
            questionCounter.textContent = `Вопрос ${gameState.currentQuestion + 1} из 10`;
            
            // Обновляем прогресс-бар
            progressBar.style.width = `${(gameState.currentQuestion + 1) * 10}%`;
            
            // Отображаем термин и определение
            questionTerm.textContent = question.term;
            questionDefinition.textContent = question.definition;
            
            // Очищаем выбор
            gameState.selectedOption = null;
            
            // Создаем варианты контекстов
            contextOptions.innerHTML = '';
            
            // Перемешиваем контексты для отображения
            const shuffledContexts = [...question.contexts].sort(() => Math.random() - 0.5);
            
            shuffledContexts.forEach((ctx, index) => {
                const option = document.createElement('div');
                option.className = 'context-option';
                option.textContent = ctx.context;
                option.dataset.index = index;
                
                option.addEventListener('click', () => {
                    // Убираем выделение со всех опций
                    document.querySelectorAll('.context-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Выделяем выбранную опцию
                    option.classList.add('selected');
                    
                    // Сохраняем выбор
                    gameState.selectedOption = shuffledContexts[index];
                });
                
                contextOptions.appendChild(option);
            });
            
            // Деактивируем кнопку "Далее" до выбора контекста
            nextQuestionBtn.disabled = true;
            
            // Активируем кнопку при выборе
            contextOptions.addEventListener('click', () => {
                nextQuestionBtn.disabled = false;
            });
        }
        
        // Обработка перехода к следующему вопросу
        nextQuestionBtn.addEventListener('click', () => {
            // Проверяем, выбран ли вариант
            if (gameState.selectedOption === null) {
                alert('Пожалуйста, выберите контекст перед тем, как продолжить.');
                return;
            }
            
            const currentQuestion = gameState.questions[gameState.currentQuestion];
            const correctContext = currentQuestion.contexts[currentQuestion.correctContextIndex];
            
            // Проверяем правильность ответа
            if (gameState.selectedOption.context === correctContext.context) {
                gameState.correctAnswers++;
            }
            
            // Переходим к следующему вопросу или завершаем игру
            gameState.currentQuestion++;
            
            if (gameState.currentQuestion < 10) {
                loadQuestion();
            } else {
                endGame();
            }
        });
        
        // Завершение игры и отображение сертификата
        function endGame() {
            const endTime = new Date();
            const duration = Math.floor((endTime - gameState.startTime) / 1000); // в секундах
            
            // Форматирование продолжительности
            const minutes = Math.floor(duration / 60);
            const seconds = duration % 60;
            const durationText = `${minutes} мин ${seconds} сек`;
            
            // Форматирование даты и времени
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
            const dateText = endTime.toLocaleDateString('ru-RU', dateOptions);
            const timeText = endTime.toLocaleTimeString('ru-RU');
            
            // Заполняем сертификат
            certName.textContent = gameState.lastName;
            certScore.textContent = gameState.correctAnswers;
            certDate.textContent = dateText;
            certTime.textContent = timeText;
            certDuration.textContent = durationText;
            
            // Отображаем модальное окно с сертификатом
            certificateModal.style.display = 'flex';
        }
        
        // Закрытие модального окна
        closeModal.addEventListener('click', () => {
            certificateModal.style.display = 'none';
            
            // Возвращаемся в режим словаря
            dictionaryMode.style.display = 'block';
            gameMode.style.display = 'none';
        });
        
        // Закрытие модального окна при клике вне его содержимого
        window.addEventListener('click', (e) => {
            if (e.target === certificateModal) {
                certificateModal.style.display = 'none';
                
                // Возвращаемся в режим словаря
                dictionaryMode.style.display = 'block';
                gameMode.style.display = 'none';
            }
        });
		
		    // Добавьте этот скрипт в конец вашего основного скрипта
    
    // Элементы информационного блока
    const infoBtn = document.getElementById('infoBtn');
    const infoBlock = document.getElementById('infoBlock');
    const closeInfoBtn = document.getElementById('closeInfoBtn');
    
    // Открытие информационного блока
    infoBtn.addEventListener('click', () => {
        infoBlock.style.display = 'block';
        document.body.style.overflow = 'hidden'; // Предотвращаем прокрутку основной страницы
    });
    
    // Закрытие информационного блока
    closeInfoBtn.addEventListener('click', () => {
        infoBlock.style.display = 'none';
        document.body.style.overflow = 'auto'; // Возвращаем прокрутку
    });
    
    // Закрытие при клике вне содержимого блока
    infoBlock.addEventListener('click', (e) => {
        if (e.target === infoBlock) {
            infoBlock.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
    });
    </script>
	
	
</body>
</html>