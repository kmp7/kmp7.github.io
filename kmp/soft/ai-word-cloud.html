<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kmp+</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
	<script src="d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3-cloud@1.2.5/build/d3.layout.cloud.min.js"></script>
	<script src="d3.layout.cloud.min.js"></script>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --panel-bg: #f5f5f5;
            --header-bg: #325980;
            --header-text: #ffffff;
            --slider-color: #325980;
            --button-bg: #4a90e2;
            --button-text: white;
			--primary-color: #3e76ad;
		--header-text-color: #ffffff;
		--border-radius: 8px;
        }

        .dark-theme {
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --panel-bg: #2a2a2a;
            --header-bg: #213a56;
            --header-text: #ffffff;
            --slider-color: #4a90e2;
            --button-bg: #2c5282;
            --button-text: #e0e0e0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all 0.3s ease;
        }

        .container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

         header {
            background-color: var(--primary-color);
            color: var(--header-text-color);
            padding: 20px 0;
            text-align: center;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            background-image: linear-gradient(135deg, var(--primary-color) 0%, #2c3e50 100%);
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

 h2, h3 {
            margin-top: 1rem;
            margin-bottom: 0.5rem;
			color: #2061c9;
			
        }
           .theme-toggle {
      position: fixed;
      top: 15px;
      right: 15px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--primary);
      color: var(--text-light);
      border: none;
      font-size: 20px;
      cursor: pointer;
      z-index: 1000;
    }
        .content {
            display: flex;
            flex: 1;
        }

        .control-panel {
            width: 300px;
            padding: 1rem;
            background-color: var(--panel-bg);
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .visualization {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .cloud-container {
            width: 100%;
            height: 500px;
            position: relative;
        }

        .footer {
            background-color: var(--panel-bg);
            padding: 1rem;
            text-align: center;
            font-size: 0.9rem;
        }

        select, button, input {
            width: 100%;
            padding: 0.5rem;
            margin: 0.5rem 0;
            border-radius: 4px;
            border: 1px solid #ccc;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        button {
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            cursor: pointer;
            font-weight: bold;
        }

        button:hover {
            opacity: 0.9;
        }

        .word-input {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .word-input input {
            flex: 2;
            margin-right: 0.5rem;
        }

        .word-input input[type="range"] {
            flex: 1;
        }

        .word-weight {
            width: 30px;
            text-align: right;
        }

        .slider-container {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .slider-container input {
            flex: 1;
            margin: 0 0.5rem;
        }

        input[type="range"] {
            -webkit-appearance: none;
            height: 8px;
            background: var(--slider-color);
            border-radius: 4px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: var(--button-bg);
            border-radius: 50%;
            cursor: pointer;
        }

        .info-block {
            margin-top: 2rem;
            padding: 1rem;
            background-color: var(--panel-bg);
            border-radius: 4px;
        }

        h2, h3 {
            margin-top: 1rem;
            margin-bottom: 0.5rem;
			color: #2061c9;
			
        }

        .context-header {
            text-align: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            color: #1d52a8;
            font-weight: bold;
        }
		
		@media (max-width: 768px) {
    .container {
        min-height: auto;
    }
    
    .content {
        flex-direction: column;
    }
    
    .control-panel {
        width: 100%;
        padding: 1rem;
        box-shadow: none;
        border-bottom: 1px solid var(--text-color);
    }
    
    .visualization {
        padding: 1rem;
    }
    
    .cloud-container {
        height: 300px;
    }
    
    .theme-toggle {
        top: 10px;
        right: 10px;
        width: 40px;
        height: 40px;
        font-size: 16px;
    }
    
    .header h1 {
        font-size: 1.5rem;
        padding-right: 50px;
    }
    
    .word-input {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .word-input input {
        width: 100%;
        margin-right: 0;
        margin-bottom: 0.5rem;
    }
    
    .slider-container {
        width: 100%;
    }
    
    .info-block ul {
        padding-left: 1rem;
    }
}

@media (max-width: 480px) {
    button, select {
        padding: 0.8rem;
        font-size: 1rem;
    }
    
    .info-block {
        padding: 0.5rem;
        font-size: 0.9rem;
    }
    
    .context-header {
        font-size: 1.2rem;
    }
}

    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>–ò–°–ö–£–°–°–¢–í–ï–ù–ù–´–ô –ò–ù–¢–ï–õ–õ–ï–ö–¢</h1>
			<p>–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏—Ö –∏ –≤–µ—Å–æ–º—ã—Ö —Å–ª–æ–≤</p>
            <button class="theme-toggle" id="themeToggle">‚òÄÔ∏è</button>
        </header>
        
        <div class="content">
            <div class="control-panel">
            <h3>–í—ã–±–æ—Ä —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç–∞:</h3>
                <select id="userType">
                    <option value="student">–í—Ç–æ—Ä–æ–∫–ª–∞—Å—Å–Ω–∏–∫</option>
                    <option value="philology">–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä —Ñ–∏–ª–æ–ª–æ–≥–∏–∏</option>
                    <option value="cs">–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –Ω–∞—É–∫</option>
                    <option value="llmmistral">LLM Mistral</option>
					<option value="llm">–ü–µ—Ä–µ–¥–æ–≤–∞—è LLM</option>
                    <option value="custom">–í–∞—à (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π!)</option>
                </select>
                
                <div id="customWordsContainer" style="display: none;">
                    <h3>–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–∏ —Å–ª–æ–≤–∞ –∏ –≤–µ—Å–∞:</h3>
                    <div id="wordInputs"></div>
                </div>
                
                <button id="updateCloud">–û–±–Ω–æ–≤–∏—Ç—å –æ–±–ª–∞–∫–æ</button>
            </div>
            
            <div class="visualization">
                <div class="context-header" id="contextHeader">–ò–ò –¥–ª—è –≤—Ç–æ—Ä–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∞</div>
                <div class="cloud-container" id="cloud"></div>
                
                <div class="info-block">
                    <h3>–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h3>
                    <p>–≠—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±–ª–∞–∫–∞ —Å–ª–æ–≤, —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø–æ–Ω—è—Ç–∏–µ–º "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç". –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∏–ø –æ–±–ª–∞–∫–∞ —Å–ª–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–≤–æ–¥–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏—Ö –≤–µ—Å–∞.</p>
                   <h3>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h3> <p>HTML5, CSS3, JavaScript, D3.js</p>
                <h3>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</h3>
                <ul>
                    <li>–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±–ª–∞–∫–∞ –∏–∑ –∑–Ω–∞—á–∏—Å—ã—Ö –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ò–ò –ø–æ–Ω—è—Ç–∏–π</li>
                    <li>–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                    <li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Ö –≤–µ—Å–æ–≤</li>
                    <li>–¶–≤–µ—Ç–æ–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏ —Ä–∞–∑–º–µ—Ä —Å–ª–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏</li>
                    <li>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π</li>
                </ul>
                </div>
        </div>
    </div>
    
    <footer class="footer">
        <p>¬© 2025 | kmp | CC BY-NC-SA 4.0<br>
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ë—Ä–ì–£ –∏–º–µ–Ω–∏ –ê.–°. –ü—É—à–∫–∏–Ω–∞</p>
    </footer>
</div>
<div style="position: fixed; bottom: 10px; color: #777777; right: 30px; opacity: 0.3; font-size: 14px;">kmp+</div>
<script>
    // –ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã —Å–ª–æ–≤
    const wordSets = {
        student: [
            { text: "–†–æ–±–æ—Ç", weight: 90 },
            { text: "–ö–æ–º–ø—å—é—Ç–µ—Ä", weight: 85 },
            { text: "–í–∞—É!", weight: 80 },
            { text: "–î–æ–º–∞—à–∫–∞", weight: 75 },
            { text: "–ß–∞—Ç-–±–æ—Ç", weight: 70 },
            { text: "–ü–æ–º–æ—â–Ω–∏–∫", weight: 65 },
            { text: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", weight: 60 },
            { text: "–ú–∞–≥–∏—è", weight: 55 },
            { text: "–ò–≥—Ä—ã", weight: 50 },
            { text: "–£–º–Ω—ã–π", weight: 45 },
            { text: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ", weight: 40 },
            { text: "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç", weight: 35 }
        ],
        philology: [
            { text: "–õ–∏–Ω–≥–≤–∏—Å—Ç–∏–∫–∞", weight: 90 },
            { text: "–°–µ–º–∞–Ω—Ç–∏–∫–∞", weight: 85 },
            { text: "–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è", weight: 80 },
            { text: "–î–∏—Å–∫—É—Ä—Å", weight: 75 },
            { text: "–¢–µ–∫—Å—Ç", weight: 70 },
            { text: "–ù–∞—Ä—Ä–∞—Ç–∏–≤", weight: 65 },
            { text: "–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ—Å—Ç—å", weight: 60 },
            { text: "–ú–µ—Ç–∞—Ñ–æ—Ä–∞", weight: 55 },
            { text: "–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è", weight: 50 },
            { text: "–°–∏–º–≤–æ–ª–∏–∑–º", weight: 45 },
            { text: "–ö–æ–Ω—Ç–µ–∫—Å—Ç", weight: 40 },
            { text: "–î–∏–∞–ª–æ–≥", weight: 35 }
        ],
        cs: [
            { text: "–ê–ª–≥–æ—Ä–∏—Ç–º", weight: 90 },
            { text: "–ù–µ–π—Ä–æ—Å–µ—Ç—å", weight: 85 },
            { text: "–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ", weight: 80 },
            { text: "–î–∞–Ω–Ω—ã–µ", weight: 75 },
            { text: "–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ", weight: 70 },
            { text: "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä", weight: 65 },
            { text: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", weight: 60 },
            { text: "–í—ã—á–∏—Å–ª–µ–Ω–∏—è", weight: 55 },
            { text: "–ú–æ–¥–µ–ª—å", weight: 50 },
            { text: "–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è", weight: 45 },
            { text: "–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è", weight: 40 },
            { text: "–†–µ–≥—Ä–µ—Å—Å–∏—è", weight: 35 }
        ],
		llmmistral: [
			{ text: "–û–±—Ä–∞–±–æ—Ç–∫–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞", weight: 95 },
			{ text: "–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ", weight: 90 },
			{ text: "–ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏", weight: 85 },
			{ text: "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä—ã", weight: 80 },
			{ text: "–û–±—É—á–µ–Ω–∏–µ –±–µ–∑ —É—á–∏—Ç–µ–ª—è", weight: 75 },
			{ text: "–û–±—É—á–µ–Ω–∏–µ —Å —É—á–∏—Ç–µ–ª–µ–º", weight: 70 },
			{ text: "–í–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è", weight: 65 },
			{ text: "–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è", weight: 60 },
			{ text: "–í–Ω–∏–º–∞–Ω–∏–µ", weight: 55 },
			{ text: "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞", weight: 50 },
			{ text: "–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞", weight: 45 },
			{ text: "–ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏", weight: 40 },
			{ text: "–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏", weight: 35 },
			{ text: "–ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —è–∑—ã–∫–∞", weight: 30 },
			{ text: "–û–±–æ–±—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞", weight: 25 },
			{ text: "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞", weight: 20 },
			{ text: "–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π", weight: 15 },
			{ text: "–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—á–∏", weight: 10 },
			{ text: "–ß–∞—Ç-–±–æ—Ç—ã", weight: 5 },
			{ text: "–û–±—É—á–µ–Ω–∏–µ —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º", weight: 5 },
			{ text: "–≠—Ç–∏–∫–∞ –ò–ò", weight: 5 },
			{ text: "–û–±—ä—è—Å–Ω–∏–º—ã–π –ò–ò", weight: 5 },
			{ text: "–ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ", weight: 5 },
			{ text: "–û–±–ª–∞—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è", weight: 5 },
			{ text: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", weight: 5 }
		],
    custom: Array(12).fill().map((_, i) => ({ text: `–°–ª–æ–≤–æ ${i+1}`, weight: 90 - i * 5 }))
    };

    // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const contextHeaders = {
        student: "–ò–ò –¥–ª—è –≤—Ç–æ—Ä–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∞",
        philology: "–ò–ò –≥–ª–∞–∑–∞–º–∏ –ø—Ä–æ—Ñ–µ—Å—Å–æ—Ä–∞ —Ñ–∏–ª–æ–ª–æ–≥–∏–∏",
        cs: "–ò–ò –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –Ω–∞—É–∫–∞—Ö",
		llmmistral: "–ò–ò —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è LLM Mistral",
        custom: "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–ª–∞–∫–æ —Å–ª–æ–≤"
    };

    // –¢–µ–∫—É—â–∏–π –Ω–∞–±–æ—Ä —Å–ª–æ–≤
    let currentWords = [...wordSets.student];
    let currentUserType = "student";

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    document.addEventListener('DOMContentLoaded', function() {
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–∏–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        document.getElementById('userType').addEventListener('change', function() {
            currentUserType = this.value;
            
            if (currentUserType === 'custom') {
                document.getElementById('customWordsContainer').style.display = 'block';
                populateCustomWordInputs();
            } else {
                document.getElementById('customWordsContainer').style.display = 'none';
                currentWords = [...wordSets[currentUserType]];
                updateContextHeader();
                generateWordCloud();
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±–ª–∞–∫–∞
        document.getElementById('updateCloud').addEventListener('click', function() {
            if (currentUserType === 'custom') {
                updateCustomWords();
            }
            generateWordCloud();
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
        document.getElementById('themeToggle').addEventListener('click', function() {
            document.body.classList.toggle('dark-theme');
            this.textContent = document.body.classList.contains('dark-theme') ? 'üåô' : '‚òÄÔ∏è';
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        populateCustomWordInputs();
        generateWordCloud();
    });

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    function updateContextHeader() {
        document.getElementById('contextHeader').textContent = contextHeaders[currentUserType];
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–ª–æ–≤
    function populateCustomWordInputs() {
        const container = document.getElementById('wordInputs');
        container.innerHTML = '';
        
        for (let i = 0; i < 12; i++) {
            const wordInput = document.createElement('div');
            wordInput.className = 'word-input';
            
            const input = document.createElement('input');
            input.type = 'text';
            input.value = currentWords[i].text;
            input.id = `word-${i}`;
            input.placeholder = `–°–ª–æ–≤–æ ${i+1}`;
            
            const sliderContainer = document.createElement('div');
            sliderContainer.className = 'slider-container';
            
            const slider = document.createElement('input');
            slider.type = 'range';
            slider.min = '10';
            slider.max = '100';
            slider.value = currentWords[i].weight;
            slider.id = `weight-${i}`;
                
                const weightDisplay = document.createElement('span');
                weightDisplay.className = 'word-weight';
                weightDisplay.textContent = currentWords[i].weight;
                
                slider.addEventListener('input', function() {
                    weightDisplay.textContent = this.value;
                });
                
                wordInput.appendChild(input);
                sliderContainer.appendChild(slider);
                sliderContainer.appendChild(weightDisplay);
                wordInput.appendChild(sliderContainer);
                
                container.appendChild(wordInput);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–ª–æ–≤
        function updateCustomWords() {
            for (let i = 0; i < 12; i++) {
                const text = document.getElementById(`word-${i}`).value || `–°–ª–æ–≤–æ ${i+1}`;
                const weight = parseInt(document.getElementById(`weight-${i}`).value);
                
                currentWords[i] = { text, weight };
            }
            updateContextHeader();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±–ª–∞–∫–∞ —Å–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º D3.js
        function generateWordCloud() {
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ–±–ª–∞–∫–∞
            d3.select("#cloud").html("");
            
            // –†–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
            const width = document.getElementById('cloud').clientWidth;
            const height = document.getElementById('cloud').clientHeight;
            
            // –†–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –¥–ª—è —Å–ª–æ–≤
            const colorPalette = [
                "#FF5733", "#33FF57", "#3357FF", "#FF33F5", 
                "#F5FF33", "#33FFF5", "#FF3333", "#33FF33", 
                "#3333FF", "#FFAA33", "#33FFAA", "#AA33FF"
            ];
            
            // –®–∫–∞–ª–∞ –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞
            const fontSize = d3.scaleLinear()
                .domain([d3.min(currentWords, d => d.weight), d3.max(currentWords, d => d.weight)])
                .range([14, 60]);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–∫–µ—Ç–∞ –æ–±–ª–∞–∫–∞
            const layout = d3.layout.cloud()
                .size([width, height])
                .words(currentWords.map((d, i) => ({
                    text: d.text,
                    size: fontSize(d.weight),
                    weight: d.weight,
                    color: colorPalette[i % colorPalette.length]
                })))
                .padding(5)
                .rotate(() => ~~(Math.random() * 2) * 20) // –°–ª—É—á–∞–π–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç 0 –∏–ª–∏ 90 –≥—Ä–∞–¥—É—Å–æ–≤
                .font("Impact")
                .fontSize(d => d.size)
                .on("end", draw);
            
            layout.start();
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –æ–±–ª–∞–∫–∞
            function draw(words) {
                d3.select("#cloud").append("svg")
                    .attr("width", layout.size()[0])
                    .attr("height", layout.size()[1])
                    .append("g")
                    .attr("transform", `translate(${layout.size()[0] / 2},${layout.size()[1] / 2})`)
                    .selectAll("text")
                    .data(words)
                    .enter().append("text")
                    .style("font-size", d => `${d.size}px`)
                    .style("font-family", "Impact")
                    .style("fill", d => d.color)
                    .attr("text-anchor", "middle")
                    .attr("transform", d => `translate(${d.x},${d.y}) rotate(${d.rotate})`)
                    .text(d => d.text)
                    .style("cursor", "pointer")
                    .on("mouseover", function(event, d) {
                        d3.select(this)
                            .transition()
                            .duration(200)
                            .style("font-size", `${d.size * 1.2}px`)
                            .style("fill", "#ff4500");
                    })
                    .on("mouseout", function(event, d) {
                        d3.select(this)
                            .transition()
                            .duration(200)
                            .style("font-size", `${d.size}px`)
                            .style("fill", d.color);
                    });
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
            updateContextHeader();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', function() {
            generateWordCloud();
        });
    </script>
</body>
</html>