<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тренажёр по логической разметке</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f5;
            --color-header: #325980;
            --color-interactive: #3498db;
            --color-divider: #f1f1f1;
            --text-primary: #333333;
            --text-secondary: #666666;
            --shadow: 0 2px 5px rgba(0,0,0,0.1);
            --correct: #2ecc71;
            --wrong: #e74c3c;
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2a2a2a;
            --color-header: #4b7aa9;
            --color-interactive: #5dade2;
            --color-divider: #3a3a3a;
            --text-primary: #f0f0f0;
            --text-secondary: #cccccc;
            --shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        header {
            background-color: var(--color-header);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
        }

        h1 {
            font-size: 1.8rem;
        }

        main {
            max-width: 1000px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: white;
        }

        .container {
            background-color: var(--bg-secondary);
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
        }

        .info-block {
            line-height: 1.6;
        }

        .info-block h2 {
            color: var(--color-header);
            margin-bottom: 1rem;
        }

        .info-block p {
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .info-block ul {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 1rem;
        }

        .login-form input {
            padding: 0.8rem;
            border: 1px solid var(--color-divider);
            border-radius: 4px;
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        .login-form input:focus {
            outline: 1px solid var(--color-interactive);
        }

        .login-form button, 
        .task-navigation button,
        .next-task-btn {
            padding: 0.8rem 1.5rem;
            background-color: var(--color-interactive);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }

        .login-form button:hover, 
        .task-navigation button:hover,
        .next-task-btn:hover {
            background-color: #2980b9;
        }

        .tasks-container {
            display: none;
        }

        .task-text {
            line-height: 1.8;
            margin-bottom: 1.5rem;
            background-color: var(--bg-primary);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--color-divider);
        }

        .task-text span {
            cursor: pointer;
            padding: 2px 0;
            border-radius: 3px;
            position: relative;
        }

        .task-text span:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }

        .task-text span.highlighted {
            background-color: var(--color-interactive);
            color: white;
        }

        .task-text span.correct {
            background-color: var(--correct);
            color: white;
        }

        .task-text span.wrong {
            background-color: var(--wrong);
            color: white;
        }

        .task-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
        }

        .language-tabs {
            display: flex;
            margin-bottom: 1rem;
        }

        .language-tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            background-color: var(--bg-primary);
            border: 1px solid var(--color-divider);
        }

        .language-tab:first-child {
            border-radius: 4px 0 0 4px;
        }

        .language-tab:last-child {
            border-radius: 0 4px 4px 0;
        }

        .language-tab.active {
            background-color: var(--color-interactive);
            color: white;
            border-color: var(--color-interactive);
        }

        .logical-operators {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .logical-operator {
            padding: 0.5rem 1rem;
            background-color: var(--bg-primary);
            border: 1px solid var(--color-divider);
            border-radius: 4px;
            cursor: pointer;
        }

        .logical-operator.active {
            background-color: var(--color-interactive);
            color: white;
            border-color: var(--color-interactive);
        }

        .progress-bar {
            height: 8px;
            background-color: var(--color-divider);
            border-radius: 4px;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--color-interactive);
            transition: width 0.3s ease;
        }

        .task-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .task-result {
            margin-top: 1.5rem;
            display: none;
            background-color: var(--bg-primary);
            padding: 1rem;
            border-radius: 4px;
            border: 1px solid var(--color-divider);
        }

        .task-result.success {
            border-color: var(--correct);
        }

        .task-result.failure {
            border-color: var(--wrong);
        }

        .check-btn, .next-task-btn {
            margin-top: 1rem;
            width: 100%;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: var(--bg-primary);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: var(--shadow);
            max-width: 600px;
            width: 90%;
        }

        .certificate {
            border: 5px solid var(--color-header);
            padding: 2rem;
            text-align: center;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            margin-bottom: 1.5rem;
        }

        .certificate h2 {
            color: var(--color-header);
            margin-bottom: 1rem;
            font-size: 2rem;
        }

        .certificate .name {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 1rem 0;
        }

        .certificate .score {
            font-size: 1.2rem;
            margin: 0.5rem 0;
        }

        .certificate .date {
            font-style: italic;
            margin-top: 1rem;
        }

        .close-modal {
            background-color: var(--color-interactive);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
            width: 100%;
        }

        .close-modal:hover {
            background-color: #2980b9;
        }

        /* Мобильная адаптация */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            header {
                padding: 0.8rem;
            }

            main {
                padding: 1rem;
            }

            .container {
                padding: 1.2rem;
            }

            .logical-operators {
                gap: 0.3rem;
            }

            .logical-operator {
                padding: 0.4rem 0.8rem;
                font-size: 0.9rem;
            }

            .task-navigation {
                flex-direction: column;
                gap: 0.5rem;
            }

            .task-navigation button {
                width: 100%;
            }

            .certificate h2 {
                font-size: 1.5rem;
            }

            .certificate .name {
                font-size: 1.2rem;
            }
        }
		
		.check-btn {
    margin-top: 1rem;
    width: 100%;
    /* Добавляем стили как у кнопки "Сохранить и начать" */
    padding: 0.8rem 1.5rem;
    background-color: var(--color-interactive);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.2s;
    font-size: 1rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.check-btn:hover {
    background-color: #2980b9;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.check-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.check-btn:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}
    </style>
</head>
<body>
    <header>
        <h1>Тренажёр по логической разметке</h1>
        <button class="theme-toggle" id="themeToggle">☀️</button>
    </header>

    <main>
        <div class="container info-block" id="infoBlock">
            <h2>Добро пожаловать в тренажёр логической разметки!</h2>
            <p>Этот интерактивный инструмент поможет вам улучшить навыки анализа логической структуры высказываний в рамках пропозициональной логики.</p>
            
            <h3>Как пользоваться:</h3>
            <ul>
                <li>Введите ваши Фамилию и Имя</li>
                <li>В каждом задании выберите логический оператор из списка ниже</li>
                <li>Кликните на слова в тексте, которые соответствуют этому оператору</li>
                <li>Нажмите "Проверить" для получения результата</li>
                <li>После выполнения всех заданий вы получите именной сертификат</li>
            </ul>
            
            <div class="login-form">
                <input type="text" id="userName" placeholder="Фамилия Имя" required>
                <button id="startButton">Сохранить и начать</button>
            </div>
        </div>

        <div class="tasks-container" id="tasksContainer">
            <div class="container">
                <div class="task-info">
                    <span id="taskNumber">Задание 1 из 5</span>
                    <span id="taskTime">00:00</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress" id="progressBar" style="width: 0%"></div>
                </div>

                <h3 id="taskTitle">Выделите все конъюнкции в тексте</h3>
                
                <div class="logical-operators" id="logicalOperators">
                    <!-- Будет заполнено из JavaScript -->
                </div>

                <div class="task-text" id="taskText">
                    <!-- Будет заполнено из JavaScript -->
                </div>

                <div class="task-result" id="taskResult">
                    <p id="resultText">Результат: 0 из 0</p>
                </div>

                <button id="checkBtn" class="check-btn">Проверить</button>
                <button id="nextTaskBtn" class="next-task-btn" style="display: none;">Следующее задание</button>
            </div>
        </div>
    </main>

    <div class="modal" id="certificateModal">
        <div class="modal-content">
            <div class="certificate" id="certificate">
                <h2>СЕРТИФИКАТ</h2>
                <p>Настоящим подтверждается, что</p>
                <div class="name" id="certificateName">Иван Иванов</div>
                <p>успешно выполнил(а) тренинг по логической разметке</p>
                <div class="score" id="certificateScore">Результат: 90%</div>
                <div class="date" id="certificateDate">5 октября 2025 г.</div>
                <div class="time" id="certificateTime">Время выполнения: 10 минут</div>
            </div>
            <button class="close-modal" id="closeModal">Закрыть</button>
        </div>
    </div>

    <script>
        (function() {
            // Защита от просмотра кода
            document.addEventListener('contextmenu', e => e.preventDefault());
            document.addEventListener('keydown', e => {
                if ((e.ctrlKey && (e.key === 'u' || e.key === 's')) || 
                    (e.key === 'F12')) {
                    e.preventDefault();
                }
            });
            
            // Данные заданий
            const tasksData = [
                {
                    "title": "Выделите все конъюнкции в тексте",
                    "text": "Если сегодня будет солнечно и тепло, то мы поедем в лес и будем собирать грибы. Но если пойдёт дождь или будет холодно, то мы останемся дома и будем беседовать с LLM.",
                    "correctAnswers": [
                        {"word": "и", "operator": "конъюнкция"},
						{"word": "и", "operator": "конъюнкция"},
						{"word": "и", "operator": "конъюнкция"}
                    ],
                    "logicalOperators": ["конъюнкция", "дизъюнкция", "импликация", "отрицание", "эквивалентность"]
                },
                {
                    "title": "Выделите все дизъюнкции в тексте",
                    "text": "Я пойду гулять или почитаю книгу, если у меня будет свободное время. Если же я буду занят, то мне поможет Grok или Gemini.",
                    "correctAnswers": [
                        {"word": "или", "operator": "дизъюнкция"},
                        {"word": "либо", "operator": "дизъюнкция"}
                    ],
                    "logicalOperators": ["конъюнкция", "дизъюнкция", "импликация", "отрицание", "эквивалентность"]
                },
                {
                    "title": "Выделите все импликации в тексте",
                    "text": "Если ты хочешь сдать экзамен, то выполни все работы. В случае, если ты не будешь заниматься с LLM, то можешь получить плохую отметку. Когда ты много работаешь над собой, то достигаешь хороших результатов.",
                    "correctAnswers": [
                        {"word": "Если", "operator": "импликация"},
                        {"word": "то", "operator": "импликация"},
                        {"word": "В случае, если", "operator": "импликация"},
                        {"word": "то", "operator": "импликация"},
                        {"word": "Когда", "operator": "импликация"},
                        {"word": "то", "operator": "импликация"}
                    ],
                    "logicalOperators": ["конъюнкция", "дизъюнкция", "импликация", "отрицание", "эквивалентность"]
                },
                {
                    "title": "Выделите все отрицания в тексте",
                    "text": "Не стоит думать, что всё будет легко. Я не боюсь трудностей, потому что преодолевая их становлюсь лучше и сильнее. Никто не знает, что произойдёт завтра.",
                    "correctAnswers": [
                        {"word": "Не", "operator": "отрицание"},
                        {"word": "не", "operator": "отрицание"},
                        {"word": "Никто", "operator": "отрицание"},
                        {"word": "не", "operator": "отрицание"}
                    ],
                    "logicalOperators": ["конъюнкция", "дизъюнкция", "импликация", "отрицание", "эквивалентность"]
                },
                {
                    "title": "Выделите все эквивалентности в тексте",
                    "text": "Ты получишь десятку только тогда, когда твоя тработа во время семестра и ответ будут соответствать нормативным требованиям. Мы поедем за город только тогда, когда будет хорошая погода. Это растение цветёт только тогда, когда за ним правильно ухаживают.",
                    "correctAnswers": [
                        {"word": "только тогда, когда", "operator": "эквивалентность"},
                        {"word": "только тогда, когда", "operator": "эквивалентность"},
                        {"word": "только тогда, когда", "operator": "эквивалентность"}
                    ],
                    "logicalOperators": ["конъюнкция", "дизъюнкция", "импликация", "отрицание", "эквивалентность"]
                }
            ];

            // Переводы для интерфейса
            const translations = {
                "ru": {
                    "taskNumber": "Задание",
                    "of": "из",
                    "check": "Проверить",
                    "nextTask": "Следующее задание",
                    "result": "Результат:",
                    "correct": "правильно",
                    "total": "всего",
                    "certificate": "СЕРТИФИКАТ",
                    "confirms": "Настоящим подтверждается, что",
                    "completed": "успешно выполнил(а) тренинг по логической разметке",
                    "score": "Результат:",
                    "time": "Время выполнения:",
                    "close": "Закрыть"
                }
            };

            // Переменные состояния
            let currentTaskIndex = 0;
            let selectedOperator = "";
            let selectedWords = [];
            let startTime;
            let totalTime = 0;
            let timerInterval;
            let totalCorrect = 0;
            let totalQuestions = 0;
            let userName = "";

            // DOM элементы
            const themeToggle = document.getElementById("themeToggle");
            const infoBlock = document.getElementById("infoBlock");
            const tasksContainer = document.getElementById("tasksContainer");
            const startButton = document.getElementById("startButton");
            const userNameInput = document.getElementById("userName");
            const taskNumber = document.getElementById("taskNumber");
            const taskTime = document.getElementById("taskTime");
            const taskTitle = document.getElementById("taskTitle");
            const logicalOperators = document.getElementById("logicalOperators");
            const taskText = document.getElementById("taskText");
            const progressBar = document.getElementById("progressBar");
            const checkBtn = document.getElementById("checkBtn");
            const nextTaskBtn = document.getElementById("nextTaskBtn");
            const taskResult = document.getElementById("taskResult");
            const resultText = document.getElementById("resultText");
            const certificateModal = document.getElementById("certificateModal");
            const certificateName = document.getElementById("certificateName");
            const certificateScore = document.getElementById("certificateScore");
            const certificateDate = document.getElementById("certificateDate");
            const certificateTime = document.getElementById("certificateTime");
            const closeModal = document.getElementById("closeModal");

            // Инициализация приложения
            function init() {
                setupEventListeners();
                checkThemePreference();
            }

            // Настройка слушателей событий
            function setupEventListeners() {
                themeToggle.addEventListener("click", toggleTheme);
                startButton.addEventListener("click", startTasks);
                checkBtn.addEventListener("click", checkAnswers);
                nextTaskBtn.addEventListener("click", loadNextTask);
                closeModal.addEventListener("click", () => certificateModal.style.display = "none");
            }

            // Проверка и установка темной/светлой темы
            function checkThemePreference() {
                const darkModePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                if (darkModePreferred) {
                    document.body.setAttribute("data-theme", "dark");
                    themeToggle.textContent = "🌙";
                }
            }

            // Переключение темы
            function toggleTheme() {
                if (document.body.getAttribute("data-theme") === "dark") {
                    document.body.removeAttribute("data-theme");
                    themeToggle.textContent = "☀️";
                } else {
                    document.body.setAttribute("data-theme", "dark");
                    themeToggle.textContent = "🌙";
                }
            }

            // Начало выполнения заданий
            function startTasks() {
                userName = userNameInput.value.trim();
                if (!userName) {
                    alert("Пожалуйста, введите Фамилию и Имя");
                    return;
                }
                
                infoBlock.style.display = "none";
                tasksContainer.style.display = "block";
                
                startTime = new Date();
                timerInterval = setInterval(updateTimer, 1000);
                
                loadTask();
            }

            // Загрузка текущего задания
            function loadTask() {
                if (currentTaskIndex >= tasksData.length) {
                    showCertificate();
                    return;
                }
                
                const task = tasksData[currentTaskIndex];
                
                // Обновление UI
                taskTitle.textContent = task.title;
                taskNumber.textContent = `${translations["ru"].taskNumber} ${currentTaskIndex + 1} ${translations["ru"].of} ${tasksData.length}`;
                
                // Заполнение списка логических операторов
                logicalOperators.innerHTML = "";
                task.logicalOperators.forEach(operator => {
                    const operatorElement = document.createElement("div");
                    operatorElement.className = "logical-operator";
                    operatorElement.textContent = operator;
                    operatorElement.addEventListener("click", () => {
                        document.querySelectorAll(".logical-operator").forEach(o => o.classList.remove("active"));
                        operatorElement.classList.add("active");
                        selectedOperator = operator;
                    });
                    logicalOperators.appendChild(operatorElement);
                });
                
                // Обработка текста задания
                const words = task.text.split(/\s+/);
                taskText.innerHTML = "";
                
                // Создаем массив для хранения слов с учетом многословных операторов
                const processedWords = [];
                let i = 0;
                
                while (i < words.length) {
                    let foundMultiword = false;
                    
                    // Проверяем многословные операторы
                    for (let j = 3; j >= 1; j--) {
                        if (i + j <= words.length) {
                            const potentialMultiword = words.slice(i, i + j).join(" ");
                            
                            // Проверяем, является ли это многословным оператором
                            const isMultiwordOperator = task.correctAnswers.some(
                                answer => answer.word === potentialMultiword
                            );
                            
                            if (isMultiwordOperator) {
                                processedWords.push({
                                    text: potentialMultiword,
                                    isMultiword: true
                                });
                                i += j;
                                foundMultiword = true;
                                break;
                            }
                        }
                    }
                    
                    if (!foundMultiword) {
                        processedWords.push({
                            text: words[i],
                            isMultiword: false
                        });
                        i++;
                    }
                }
                
                // Создаем элементы для текста
                processedWords.forEach(wordObj => {
                    const span = document.createElement("span");
                    span.textContent = wordObj.text + " ";
                    span.setAttribute("data-word", wordObj.text);
                    span.addEventListener("click", () => toggleWordSelection(span));
                    taskText.appendChild(span);
                });
                
                // Сброс состояния
                selectedWords = [];
                selectedOperator = "";
                taskResult.style.display = "none";
                checkBtn.style.display = "block";
                nextTaskBtn.style.display = "none";
                
                // Обновление прогресса
                const progress = (currentTaskIndex / tasksData.length) * 100;
                progressBar.style.width = `${progress}%`;
            }

            // Выделение/снятие выделения слова
            function toggleWordSelection(span) {
                if (!selectedOperator) {
                    alert("Сначала выберите логический оператор");
                    return;
                }
                
                if (span.classList.contains("highlighted")) {
                    span.classList.remove("highlighted");
                    const word = span.getAttribute("data-word");
                    selectedWords = selectedWords.filter(w => w !== word);
                } else {
                    span.classList.add("highlighted");
                    const word = span.getAttribute("data-word");
                    selectedWords.push(word);
                }
            }

            // Проверка ответов
            function checkAnswers() {
    if (!selectedOperator) {
        alert("Пожалуйста, выберите логический оператор");
        return;
    }
    
    if (selectedWords.length === 0) {
        alert("Пожалуйста, выделите хотя бы одно слово");
        return;
    }
    
    const task = tasksData[currentTaskIndex];
    const correctWords = task.correctAnswers
        .filter(answer => answer.operator === selectedOperator)
        .map(answer => answer.word);
    
    let correctCount = 0;
    const spans = taskText.querySelectorAll("span");
    
    // Отладочная информация
    console.log("Selected operator:", selectedOperator);
    console.log("Selected words:", selectedWords);
    console.log("Correct words:", correctWords);
    
    spans.forEach(span => {
        const word = span.getAttribute("data-word");
        span.classList.remove("highlighted", "correct", "wrong");
        
        const isSelected = selectedWords.includes(word);
        const isCorrect = correctWords.includes(word);
        
        console.log(`Word: "${word}", Selected: ${isSelected}, Correct: ${isCorrect}`);
        
        if (isSelected && isCorrect) {
            span.classList.add("correct");
            correctCount++;
        } else if (isSelected && !isCorrect) {
            span.classList.add("wrong");
        } else if (!isSelected && isCorrect) {
            // Подсвечиваем пропущенные правильные ответы
            span.classList.add("wrong");
        }
    });
    
    const totalCorrectWords = correctWords.length;
    totalCorrect += correctCount;
    totalQuestions += totalCorrectWords;
    
    // Показать результат
    taskResult.style.display = "block";
    taskResult.className = "task-result";
    if (correctCount === totalCorrectWords && correctCount === selectedWords.length) {
        taskResult.classList.add("success");
    } else {
        taskResult.classList.add("failure");
    }
    
    resultText.textContent = `${translations["ru"].result} ${correctCount} ${translations["ru"].correct} ${translations["ru"].of} ${totalCorrectWords} ${translations["ru"].total}`;
    
    // Скрыть кнопку проверки и показать кнопку следующего задания
    checkBtn.style.display = "none";
    nextTaskBtn.style.display = "block";
    nextTaskBtn.textContent = translations["ru"].nextTask;
}

            // Загрузка следующего задания
            function loadNextTask() {
                currentTaskIndex++;
                loadTask();
            }

            // Обновление таймера
            function updateTimer() {
                const now = new Date();
                const elapsedSeconds = Math.floor((now - startTime) / 1000);
                const minutes = Math.floor(elapsedSeconds / 60);
                const seconds = elapsedSeconds % 60;
                taskTime.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            }

            // Показать сертификат
            function showCertificate() {
                clearInterval(timerInterval);
                const endTime = new Date();
                totalTime = Math.floor((endTime - startTime) / 1000);
                
                const minutes = Math.floor(totalTime / 60);
                const seconds = totalTime % 60;
                const scorePercentage = Math.round((totalCorrect / totalQuestions) * 100);
                
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                const formattedDate = endTime.toLocaleDateString("ru-RU", options);
                
                certificateName.textContent = userName;
                certificateScore.textContent = `${translations["ru"].score} ${scorePercentage}%`;
                certificateDate.textContent = formattedDate;
                
                // Формирование строки времени
                let timeString = `${translations["ru"].time} ${minutes} `;
                if (minutes === 1) timeString += "минута ";
                else if (minutes >= 2 && minutes <= 4) timeString += "минуты ";
                else timeString += "минут ";
                
                timeString += `${seconds} `;
                if (seconds === 1) timeString += "секунда";
                else if (seconds >= 2 && seconds <= 4) timeString += "секунды";
                else timeString += "секунд";
                
                certificateTime.textContent = timeString;
                
                document.getElementById("certificate").querySelector("h2").textContent = translations["ru"].certificate;
                document.getElementById("certificate").querySelectorAll("p")[0].textContent = translations["ru"].confirms;
                document.getElementById("certificate").querySelectorAll("p")[1].textContent = translations["ru"].completed;
                
                certificateModal.style.display = "flex";
                closeModal.textContent = translations["ru"].close;
            }

            // Запуск приложения
            init();
        })();
    </script>
</body>
</html>