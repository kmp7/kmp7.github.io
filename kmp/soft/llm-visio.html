<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kmp+</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #333;
            --primary-color: #3e76ad;
            --secondary-color: #e9ecef;
            --accent-color: #28a745;
            --error-color: #dc3545;
            --shadow: 0 2px 5px rgba(0,0,0,0.1);
            --header-text-color: #ffffff;
            --border-radius: 8px;
        }

        [data-theme="dark"] {
            --bg-color: #222;
            --text-color: #f8f9fa;
            --primary-color: #5a7fb5;
            --secondary-color: #444;
            --accent-color: #38b755;
            --error-color: #ec4555;
            --shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        * {
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary-color);
            color: var(--header-text-color);
            padding: 20px;
            text-align: center;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            background-image: linear-gradient(135deg, var(--primary-color) 0%, #2c3e50 100%);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
			padding-right: 60px;
        }

        h1 {
            font-size: 2.2rem;
            margin: 0 auto;
            padding: 0 40px;
        }

        .theme-toggle-btn {
            background: none;
            border: none;
            color: var(--header-text-color);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s, background-color 0.3s;
			 position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
        }

        .theme-toggle-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .info-box {
            background-color: var(--secondary-color);
            padding: 15px 20px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .info-box h2 {
            margin-top: 0;
            font-size: 1.3rem;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        @media (min-width: 768px) {
            .main-content {
                flex-direction: row;
            }

            .diagram-container {
                flex: 2;
            }

            .controls {
                flex: 1;
            }
        }

        .diagram-container {
            background-color: var(--secondary-color);
            padding: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        svg {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }

        .clickable-area {
            cursor: pointer;
            transition: fill 0.3s;
        }

        .clickable-area:hover {
            fill-opacity: 0.8;
        }

        .clickable-area.correct {
            stroke: var(--accent-color);
            stroke-width: 2px;
        }

        .clickable-area.incorrect {
            stroke: var(--error-color);
            stroke-width: 2px;
        }

        .popup {
            position: absolute;
            background-color: var(--bg-color);
            border: 1px solid var(--primary-color);
            border-radius: 8px;
            padding: 15px;
            box-shadow: var(--shadow);
            z-index: 10;
            max-width: 250px;
            display: none;
        }

        .popup input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid var(--secondary-color);
            border-radius: 4px;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .popup button {
            padding: 8px 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 5px;
        }

        .popup button:hover {
            opacity: 0;
        }

        .popup button.cancel {
            background-color: #6c757d;
        }

        .controls {
            background-color: var(--secondary-color);
            padding: 20px;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .controls h2 {
            margin-top: 0;
            font-size: 1.3rem;
        }

        .progress-container {
            margin-bottom: 20px;
        }

        .progress-bar {
            height: 20px;
            background-color: var(--bg-color);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.3s;
        }

        .actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .action-btn {
            padding: 10px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
        }

        .action-btn:hover {
            opacity: 0.9;
        }

        .action-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .action-btn.check {
            background-color: var(--accent-color);
        }

        .action-btn.reset {
            background-color: var(--error-color);
        }

        .hints-list {
            margin-top: 20px;
        }

        .hint-item {
            margin-bottom: 10px;
            padding: 10px;
            background-color: var(--bg-color);
            border-radius: 4px;
            cursor: pointer;
        }

        .hint-item:hover {
            background-color: rgba(0,0,0,0.05);
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.success {
            background-color: rgba(40, 167, 69, 0.2);
            border: 1px solid var(--accent-color);
        }

        .feedback.error {
            background-color: rgba(220, 53, 69, 0.2);
            border: 1px solid var(--error-color);
        }

        @media print {
            .theme-toggle-btn, .actions, .info-box button, .popup {
                display: none !important;
            }

            body {
                background-color: white;
                color: black;
            }

            .container, .diagram-container, .controls, .info-box {
                box-shadow: none;
                background-color: white;
                border: 1px solid #ddd;
            }
            
            .feedback {
                border: 1px solid #ddd;
                background-color: white !important;
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 15px;
            }
            
            h1 {
                padding: 0;
                order: 1;
            }
            
            .theme-toggle-btn {
                position: absolute;
                right: 20px;
                top: 20px;
                order: 2;
            }
            
            .main-content {
                flex-direction: column;
            }
            
            .popup {
                max-width: 80%;
                left: 10% !important;
            }
        }
		
		.info-footer {
    background-color: var(--secondary-color);
    padding: 20px;
    border-radius: var(--border-radius);
    margin-top: 30px;
    box-shadow: var(--shadow);
}

.info-footer h3 {
    margin-top: 0;
    color: var(--primary-color);
    border-bottom: 2px solid var(--primary-color);
    padding-bottom: 10px;
}

.accuracy-info {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.accuracy-item {
    display: flex;
    gap: 15px;
    padding: 15px;
    border-radius: var(--border-radius);
    background-color: var(--bg-color);
}

.accuracy-icon {
    font-size: 24px;
    flex-shrink: 0;
    margin-top: 3px;
}

.correct .accuracy-icon {
    color: var(--accent-color);
}

.consideration .accuracy-icon {
    color: #ffc107;
}

.note .accuracy-icon {
    color: var(--primary-color);
}

.accuracy-item strong {
    display: block;
    margin-bottom: 8px;
}

.accuracy-item ul {
    margin: 0;
    padding-left: 20px;
}

.accuracy-item p {
    margin: 0;
}

@media (max-width: 768px) {
    .accuracy-item {
        flex-direction: column;
    }
}
		
    footer {
      text-align: center;
      padding: 20px 0;
      margin-top: 20px;
      font-size: 0.9rem;
      border-top: 0px solid #ddd;
    }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <button class="theme-toggle-btn" id="theme-toggle-btn">üåô</button>
            <h1>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ö–µ–º–∞ –ø–∞–ø–ª–∞–π–Ω–∞ LLM</h1>
        </header>

        <div class="info-box">
            <h3>–£—á–µ–±–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—â–µ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã LLM</h3>
            <p>–í–∞—à–∞ –∑–∞–¥–∞—á–∞ - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ö–µ–º—ã.</p>
            <ul>
                <li>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Å—Ö–µ–º—ã, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ</li>
                <li>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã"</li>
                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å</li>
                <li>–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ PDF</li>
            </ul>
            <button class="action-btn" id="show-hints-btn">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏</button>
        </div>

        <div class="main-content">
            <div class="diagram-container">
                <svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
                    <!-- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
                    <rect id="input" x="50" y="200" width="100" height="100" rx="10" class="clickable-area" fill="#a1c9f4" fill-opacity="0.7"/>
                    <text x="100" y="250" text-anchor="middle" font-size="12">?</text>
                    
                    <!-- –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è -->
                    <rect id="tokenization" x="200" y="200" width="100" height="100" rx="10" class="clickable-area" fill="#a1c9f4" fill-opacity="0.7"/>
                    <text x="250" y="250" text-anchor="middle" font-size="12">?</text>
                    
                    <!-- –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ -->
                    <rect id="embeddings" x="350" y="200" width="100" height="100" rx="10" class="clickable-area" fill="#a1c9f4" fill-opacity="0.7"/>
                    <text x="400" y="250" text-anchor="middle" font-size="12">?</text>
                    
                    <!-- Attention —Å–ª–æ–∏ -->
                    <rect id="attention" x="500" y="200" width="100" height="100" rx="10" class="clickable-area" fill="#a1c9f4" fill-opacity="0.7"/>
                    <text x="550" y="250" text-anchor="middle" font-size="12">?</text>
                    
                    <!-- Decoder –±–ª–æ–∫ -->
                    <rect id="decoder" x="350" y="50" width="100" height="100" rx="10" class="clickable-area" fill="#a1c9f4" fill-opacity="0.7"/>
                    <text x="400" y="100" text-anchor="middle" font-size="12">?</text>
                    
                    <!-- –í—ã—Ö–æ–¥–Ω–æ–π —Å–ª–æ–π -->
                    <rect id="output" x="650" y="200" width="100" height="100" rx="10" class="clickable-area" fill="#a1c9f4" fill-opacity="0.7"/>
                    <text x="700" y="250" text-anchor="middle" font-size="12">?</text>
                    
                    <!-- –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è -->
                    <line x1="150" y1="250" x2="200" y2="250" stroke="#666" stroke-width="2"/>
                    <line x1="300" y1="250" x2="350" y2="250" stroke="#666" stroke-width="2"/>
                    <line x1="450" y1="250" x2="500" y2="250" stroke="#666" stroke-width="2"/>
                    <line x1="600" y1="250" x2="650" y2="250" stroke="#666" stroke-width="2"/>
                    <line x1="400" y1="150" x2="400" y2="200" stroke="#666" stroke-width="2"/>
                    <path d="M 550 200 C 550 170, 450 170, 450 150" fill="none" stroke="#666" stroke-width="2"/>
                </svg>
                
                <div id="popup" class="popup">
                    <input type="text" id="answer-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞">
                    <button id="submit-answer">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                    <button id="cancel-answer" class="cancel">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>

            <div class="controls">
                <h2>–ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</h2>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress" id="progress-bar"></div>
                    </div>
                    <p id="progress-text">0/6 –∑–∞–ø–æ–ª–Ω–µ–Ω–æ</p>
                </div>
                <div class="actions">
                    <button class="action-btn check" id="check-btn" disabled>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
                    <button class="action-btn" id="print-btn" disabled>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ PDF</button>
                    <button class="action-btn reset" id="reset-btn">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ</button>
                </div>
                <div class="hints-list" id="hints-list" style="display: none;">
                    <h3>–ü–æ–¥—Å–∫–∞–∑–∫–∏:</h3>
                    <div class="hint-item" data-target="input">–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ - —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–∞–µ—Ç—Å—è –Ω–∞ –≤—Ö–æ–¥ –º–æ–¥–µ–ª–∏</div>
                    <div class="hint-item" data-target="tokenization">–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑–±–∏–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã (—Å–ª–æ–≤–∞ –∏–ª–∏ —á–∞—Å—Ç–∏ —Å–ª–æ–≤)</div>
                    <div class="hint-item" data-target="embeddings">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏</div>
                    <div class="hint-item" data-target="attention">–ú–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –º–æ–¥–µ–ª–∏ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</div>
                    <div class="hint-item" data-target="decoder">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π –≤—ã—Ö–æ–¥–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π</div>
                    <div class="hint-item" data-target="output">–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</div>
                </div>
                <div class="feedback" id="feedback"></div>
            </div>
        </div>
		
		<div class="info-footer">
    <h3>–ü–æ—è—Å–Ω–µ–Ω–∏–µ –∫ —Å—Ö–µ–º–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã LLM</h3>
    <div class="accuracy-info">
        
        
        <div class="accuracy-item note">
            <div>
                <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong>
                <p>–î–∞–Ω–Ω–∞—è —Å—Ö–µ–º–∞ —è–≤–ª—è–µ—Ç—Å—è <em>—É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –¥–∏–¥–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –≤–µ—Ä—Å–∏–µ–π</em>. </p><p>–í —Ä–µ–∞–ª—å–Ω—ã—Ö LLM –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–æ–∂–Ω–µ–µ –∏ –≤–∫–ª—é—á–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –î–ª—è —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π —Å—Ö–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, –Ω–æ –ø—Ä–∏ –≥–ª—É–±–æ–∫–æ–º –∏–∑—É—á–µ–Ω–∏–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏—è.</p>
            </div>
        </div>
		<div class="accuracy-item correct">
                        <div>
                <strong>–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:</strong>
                <ul>
                    <li>–ë–∞–∑–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω: –í—Ö–æ–¥ ‚Üí –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è ‚Üí –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ ‚Üí Attention ‚Üí –í—ã—Ö–æ–¥</li>
                    <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ–∫–æ–¥–µ—Ä–∞ (–≤–µ—Ä–Ω–æ –¥–ª—è GPT-–ø–æ–¥–æ–±–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä)</li>
                    <li>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π</li>
                </ul>
            </div>
        </div>
		<div class="accuracy-item consideration">
            <div>
                <strong>–£–ø—Ä–æ—â–µ–Ω–∏—è –≤ —Å—Ö–µ–º–µ:</strong>
                <ul>
                    <li>–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç LayerNorm –∏ Feed Forward Network –≤ –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ</li>
                    <li>–ù–µ—Ç —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥–µ–∫–æ–¥–µ—Ä-–±–ª–æ–∫–æ–≤ (–æ–±—ã—á–Ω–æ 12-96 —Å–ª–æ–µ–≤)</li>
                    <li>–û–±—Ä–∞—Ç–Ω—ã–µ —Å–≤—è–∑–∏ –æ—Ç –¥–µ–∫–æ–¥–µ—Ä–∞ –Ω–µ —è–≤–ª—è—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏</li>
                </ul>
            </div>
        </div>
    </div>
</div>
    </div>
<footer class="footer">
<div class="container">
<p>¬© 2025 | kmp | CC BY-NC-SA 4.0<br>
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ë—Ä–ì–£ –∏–º–µ–Ω–∏ –ê.–°. –ü—É—à–∫–∏–Ω–∞</p>
</div>
</div>
</footer>
<div style="position: fixed; bottom: 10px; right: 33px; opacity: 0.3; font-size: 14px;">kmp+</div>
    <script>
        // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
        const correctAnswers = {
            'input': ['–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ', '–≤—Ö–æ–¥', 'input', '–≤–≤–æ–¥', '—Ç–µ–∫—Å—Ç'],
            'tokenization': ['—Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è', 'tokenization', '—Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä', '—Ç–æ–∫–µ–Ω—ã'],
            'embeddings': ['—ç–º–±–µ–¥–¥–∏–Ω–≥–∏', 'embeddings', '–≤–µ–∫—Ç–æ—Ä—ã', 'embedding', '—ç–º–±–µ–¥–¥–∏–Ω–≥'],
            'attention': ['–≤–Ω–∏–º–∞–Ω–∏–µ', 'attention', '–º–µ—Ö–∞–Ω–∏–∑–º –≤–Ω–∏–º–∞–Ω–∏—è', 'self-attention'],
            'decoder': ['–¥–µ–∫–æ–¥–µ—Ä', 'decoder', '–±–ª–æ–∫ –¥–µ–∫–æ–¥–µ—Ä–∞', 'decoder block'],
            'output': ['–≤—ã—Ö–æ–¥', 'output', '—Ä–µ–∑—É–ª—å—Ç–∞—Ç', '–≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ', '–æ—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏']
        };

        // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        const state = {
            selectedElement: null,
            answers: {},
            checked: false,
            darkMode: false
        };

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const elements = {
            popup: document.getElementById('popup'),
            answerInput: document.getElementById('answer-input'),
            submitBtn: document.getElementById('submit-answer'),
            cancelBtn: document.getElementById('cancel-answer'),
            checkBtn: document.getElementById('check-btn'),
            printBtn: document.getElementById('print-btn'),
            resetBtn: document.getElementById('reset-btn'),
            progressBar: document.getElementById('progress-bar'),
            progressText: document.getElementById('progress-text'),
            feedback: document.getElementById('feedback'),
            showHintsBtn: document.getElementById('show-hints-btn'),
            hintsList: document.getElementById('hints-list'),
            themeToggleBtn: document.getElementById('theme-toggle-btn')
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        function initClickableAreas() {
            document.querySelectorAll('.clickable-area').forEach(element => {
                element.addEventListener('click', () => {
                    if (state.checked) return;
                    
                    state.selectedElement = element.id;
                    
                    // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –æ–∫–Ω–∞
                    const rect = element.getBoundingClientRect();
                    const diagramContainer = document.querySelector('.diagram-container').getBoundingClientRect();
                    
                    elements.popup.style.left = (rect.left - diagramContainer.left + rect.width / 2 - 125) + 'px';
                    elements.popup.style.top = (rect.top - diagramContainer.top + rect.height) + 'px';
                    elements.popup.style.display = 'block';
                    
                    // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏–º –æ—Ç–≤–µ—Ç–æ–º, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
                    elements.answerInput.value = state.answers[element.id] || '';
                    elements.answerInput.focus();
                });
            });
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
        function handleAnswerSubmit() {
            const answer = elements.answerInput.value.trim();
            if (answer) {
                state.answers[state.selectedElement] = answer;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
                const textElement = document.querySelector(`#${state.selectedElement} + text`);
                textElement.textContent = answer;
                
                updateProgress();
            }
            elements.popup.style.display = 'none';
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
        function checkAnswers() {
            state.checked = true;
            let correctCount = 0;
            
            Object.keys(correctAnswers).forEach(elementId => {
                const userAnswer = state.answers[elementId]?.toLowerCase() || '';
                const element = document.getElementById(elementId);
                
                const isCorrect = correctAnswers[elementId].some(answer => 
                    userAnswer === answer.toLowerCase()
                );
                
                if (isCorrect) {
                    element.classList.add('correct');
                    element.classList.remove('incorrect');
                    correctCount++;
                } else {
                    element.classList.add('incorrect');
                    element.classList.remove('correct');
                }
            });
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            const percentage = Math.round((correctCount / 6) * 100);
            elements.feedback.innerHTML = `<strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> ${correctCount} –∏–∑ 6 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (${percentage}%)`;
            
            if (correctCount === 6) {
                elements.feedback.classList.add('success');
                elements.feedback.classList.remove('error');
                elements.printBtn.disabled = false;
            } else {
                elements.feedback.classList.add('error');
                elements.feedback.classList.remove('success');
                elements.printBtn.disabled = true;
            }
            
            elements.feedback.style.display = 'block';
        }

        // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
        function resetState() {
            state.answers = {};
            state.checked = false;
            
            document.querySelectorAll('.clickable-area').forEach(element => {
                element.classList.remove('correct', 'incorrect');
                const textElement = document.querySelector(`#${element.id} + text`);
                textElement.textContent = '?';
            });
            
            elements.checkBtn.disabled = true;
            elements.printBtn.disabled = true;
            elements.feedback.style.display = 'none';
            
            updateProgress();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress() {
            const answeredCount = Object.keys(state.answers).length;
            const percentage = Math.round((answeredCount / 6) * 100);
            
            elements.progressBar.style.width = `${percentage}%`;
            elements.progressText.textContent = `${answeredCount}/6 –∑–∞–ø–æ–ª–Ω–µ–Ω–æ`;
            
            elements.checkBtn.disabled = answeredCount < 6;
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        function toggleTheme() {
            state.darkMode = !state.darkMode;
            
            if (state.darkMode) {
                document.documentElement.setAttribute('data-theme', 'dark');
                elements.themeToggleBtn.textContent = '‚òÄÔ∏è';
            } else {
                document.documentElement.removeAttribute('data-theme');
                elements.themeToggleBtn.textContent = 'üåô';
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function initApp() {
            initClickableAreas();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            elements.submitBtn.addEventListener('click', handleAnswerSubmit);
            elements.cancelBtn.addEventListener('click', () => {
                elements.popup.style.display = 'none';
            });
            elements.checkBtn.addEventListener('click', checkAnswers);
            elements.printBtn.addEventListener('click', () => window.print());
            elements.resetBtn.addEventListener('click', resetState);
            elements.themeToggleBtn.addEventListener('click', toggleTheme);
            
            // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏
            elements.showHintsBtn.addEventListener('click', () => {
                if (elements.hintsList.style.display === 'none') {
                    elements.hintsList.style.display = 'block';
                    elements.showHintsBtn.textContent = '–°–∫—Ä—ã—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏';
                } else {
                    elements.hintsList.style.display = 'none';
                    elements.showHintsBtn.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏';
                }
            });
            
            // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫—É
            document.querySelectorAll('.hint-item').forEach(hint => {
                hint.addEventListener('mouseover', () => {
                    const targetId = hint.getAttribute('data-target');
                    const element = document.getElementById(targetId);
                    element.setAttribute('fill-opacity', '1');
                });
                
                hint.addEventListener('mouseout', () => {
                    const targetId = hint.getAttribute('data-target');
                    const element = document.getElementById(targetId);
                    element.setAttribute('fill-opacity', '0.7');
                });
                
                hint.addEventListener('click', () => {
                    if (state.checked) return;
                    
                    const targetId = hint.getAttribute('data-target');
                    const element = document.getElementById(targetId);
                    element.dispatchEvent(new Event('click'));
                });
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ popup –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            document.addEventListener('click', (event) => {
                if (!elements.popup.contains(event.target) && 
                    !event.target.classList.contains('clickable-area')) {
                    elements.popup.style.display = 'none';
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            elements.answerInput.addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    handleAnswerSubmit();
                }
            });
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
	
</body>
</html>