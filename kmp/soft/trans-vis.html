<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kmp+</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
	<script src="d3.v7.min.js"></script>
    <style>
        :root {
            --bg-color: #f5f7fa;
            --text-color: #333;
            --primary-color: #3498db;
            --primary-hover: #2980b9;
            --container-bg: white;
            --layer-bg: #ecf0f1;
            --layer-active: #d5dbdb;
            --component-bg: #f9f9f9;
            --attention-bg: #d6eaf8;
            --ffn-bg: #d5f5e3;
            --token-bg: #e8f6fd;
            --header-bg: #2c3e50;
            --header-text: white;
            --border-color: #ddd;
            --shadow-color: rgba(0,0,0,0.1);
			--primary-color: #3e76ad;
		--header-text-color: #ffffff;
		--border-radius: 8px;
        }

        .dark-mode {
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --primary-color: #4a9fe0;
            --primary-hover: #3a8fd0;
            --container-bg: #2d2d2d;
            --layer-bg: #3a3a3a;
            --layer-active: #4a4a4a;
            --component-bg: #333;
            --attention-bg: #2a4a6a;
            --ffn-bg: #2a5a4a;
            --token-bg: #2a3a4a;
            --header-bg: #121212;
            --header-text: #f0f0f0;
            --border-color: #444;
            --shadow-color: rgba(0,0,0,0.3);
        }

        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }

        header {
            var(--primary-color);
            color: var(--header-text);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px var(--shadow-color);
			background-image: linear-gradient(135deg, var(--primary-color) 0%, #2c3e50 100%);
        }


background-color: var(--primary-color);
            color: var(--header-text-color);
            padding: 20px 0;
            text-align: center;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            background-image: linear-gradient(135deg, var(--primary-color) 0%, #2c3e50 100%);
			
			

        .header-title {
            margin: 0;
            font-size: 1.5rem;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--header-text);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }

        .theme-toggle:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }


		h1 {
            color: #ffffff;
        }
        h2, h3 {
            color: var(--primary-color);
        }

        .input-section {
            margin-bottom: 30px;
            text-align: center;
        }

        input[type="text"] {
            padding: 10px 15px;
            width: 100%;
            max-width: 300px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 16px;
            background-color: var(--container-bg);
            color: var(--text-color);
        }

        button {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 0 5px;
            transition: background-color 0.3s;
        }

        button:hover:not(:disabled) {
            background-color: var(--primary-hover);
        }

        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }

        .controls {
            text-align: center;
            margin-bottom: 20px;
        }

        .visualization {
            display: flex;
            flex-direction: column;
            margin-bottom: 30px;
        }

        @media (min-width: 768px) {
            .visualization {
                flex-direction: row;
                justify-content: space-between;
            }
        }

        .encoder, .decoder {
            width: 100%;
            background-color: var(--container-bg);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px var(--shadow-color);
            margin-bottom: 20px;
        }

        @media (min-width: 768px) {
            .encoder, .decoder {
                width: 45%;
                margin-bottom: 0;
            }
        }

        .layer {
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 6px;
            background-color: var(--layer-bg);
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        .layer.active {
            background-color: var(--layer-active);
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.5);
        }

        .component {
            padding: 10px;
            margin: 5px 0;
            background-color: var(--component-bg);
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
            cursor: help;
            transition: background-color 0.3s;
        }

        .component.attention {
            background-color: var(--attention-bg);
        }

        .component.ffn {
            background-color: var(--ffn-bg);
        }

        .data-flow {
            margin: 20px 0;
            height: 60px;
            position: relative;
            overflow: hidden;
        }

        .output-section {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background-color: var(--container-bg);
            border-radius: 8px;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        .token {
            display: inline-block;
            padding: 5px 10px;
            margin: 0 5px;
            background-color: var(--token-bg);
            border-radius: 4px;
            font-weight: bold;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            position: relative;
            background-color: var(--container-bg);
            margin: 10% auto;
            padding: 20px;
            width: 90%;
            max-width: 700px;
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--shadow-color);
            color: var(--text-color);
        }

        .close-modal {
            position: absolute;
            right: 20px;
            top: 10px;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-color);
        }

        .connector {
            display: none;
        }

        @media (min-width: 768px) {
            .connector {
                display: block;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                height: 2px;
                background-color: var(--primary-color);
                width: 10%;
                z-index: 1;
            }
        }

        .progress-indicator {
            text-align: center;
            margin: 20px 0;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .info-block {
            background-color: var(--container-bg);
            border-radius: 8px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        .info-block h2 {
            color: var(--primary-color);
            margin-top: 0;
            border-bottom: 2px solid var(--token-bg);
            padding-bottom: 10px;
        }

        .info-block h3 {
            color: var(--primary-color);
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .info-block ul, .info-block ol {
            padding-left: 20px;
        }

        .info-block li {
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .info-block .tip {
            background-color: var(--token-bg);
            padding: 15px;
            border-radius: 6px;
            margin-top: 20px;
            border-left: 4px solid var(--primary-color);
        }

        .info-block strong {
            color: var(--primary-color);
        }
		footer {
      text-align: center;
      padding: 20px 0;
      margin-top: 40px;
      font-size: 0.9rem;
      border-top: 0px solid #ddd;
    }
    
    </style>
</head>
<body>
    <header>
        <h1 class="header-title">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Transformer</h1>
        <button class="theme-toggle" id="theme-toggle">üåô</button>
    </header>

    <div class="container">
        <div class="info-block">
            <h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</h2>
            <ol>
                <li><strong>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç</strong> –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–û—Ä–ª–æ–≤–∞ –ï–≤–∞" –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–µ–∫—Å—Ç)</li>
                <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <strong>"–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é"</strong> –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞</li>
                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ <strong>"–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥"</strong> –∏ <strong>"–ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥"</strong> –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —ç—Ç–∞–ø–∞–º –æ–±—Ä–∞–±–æ—Ç–∫–∏</li>
                <li>–ù–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Multi-Head Attention, Feed-Forward Network –∏ —Ç.–¥.) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∏—Ö</li>
                <li>–ù–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –¥–≤–∏–∂–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ —Å–ª–æ–∏ —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏ –¥–µ–∫–æ–¥–µ—Ä–∞</li>
                <li>–í –∫–æ–Ω—Ü–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–∑—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–†–µ–∑—É–ª—å—Ç–∞—Ç"</li>
                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É <strong>"–°–±—Ä–æ—Å–∏—Ç—å"</strong> –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏</li>
            </ol>
            
            <p class="tip"><strong>–°–æ–≤–µ—Ç:</strong> –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º.</p>
        </div>

        <div class="input-section">
            <input type="text" id="input-text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: –û—Ä–ª–æ–≤–∞ –ï–≤–∞)" value="–û—Ä–ª–æ–≤–∞ –ï–≤–∞">
            <button id="start-btn">–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é</button>
        </div>
        
        <div class="controls">
            <button id="prev-btn" disabled>–ü—Ä–µ–¥—ã–¥—É—â–∏–π —à–∞–≥</button>
            <button id="next-btn" disabled>–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥</button>
            <button id="reset-btn" disabled>–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
        
        <div class="progress-indicator" id="progress-indicator">
            –ì–æ—Ç–æ–≤ –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
        </div>
        
        <div class="visualization">
            <div class="encoder">
                <h2>–≠–Ω–∫–æ–¥–µ—Ä (Encoder)</h2>
                <div id="encoder-layers"></div>
            </div>
            
            <div class="connector"></div>
            
            <div class="decoder">
                <h2>–î–µ–∫–æ–¥–µ—Ä (Decoder)</h2>
                <div id="decoder-layers"></div>
            </div>
        </div>
        
        <div class="output-section">
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
            <div id="output-text">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>
        </div>

        <div class="info-block">
            <h2>–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h2>
            <p>–î–∞–Ω–Ω–æ–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –º–æ–¥–µ–ª–∏ Transformer ‚Äî –æ—Å–Ω–æ–≤—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π, –≤–∫–ª—é—á–∞—è BERT, GPT –∏ T5.</p>
            
            <h3>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h3>
            <ul>
                <li><strong>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Transformer</strong> ‚Äî –Ω–∞–≥–ª—è–¥–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏ –¥–µ–∫–æ–¥–µ—Ä–∞ —Å –∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
                <li><strong>–ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å</strong> ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑—É—á–∏—Ç—å –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö</li>
                <li><strong>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏</strong> ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∫–ª–∏–∫—É</li>
                <li><strong>–ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö</strong> ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ —Å–ª–æ–∏ –º–æ–¥–µ–ª–∏</li>
            </ul>
            
            <h3>–ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑—É—á–∏—Ç—å</h3>
            <ul>
                <li><strong>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Transformer</strong> ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞ –∏ –¥–µ–∫–æ–¥–µ—Ä–∞, –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ</li>
                <li><strong>–ú–µ—Ö–∞–Ω–∏–∑–º—ã –≤–Ω–∏–º–∞–Ω–∏—è</strong> ‚Äî Multi-Head Attention, Masked Multi-Head Attention –∏ Encoder-Decoder Attention</li>
                <li><strong>Feed-Forward Networks</strong> ‚Äî –∏—Ö —Ä–æ–ª—å –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö</li>
                <li><strong>–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö</strong> ‚Äî –∫–∞–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å</li>
                <li><strong>–ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</strong> ‚Äî –∫–∞–∫ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ</li>
            </ul>
            
            <p class="tip"><strong>–°–æ–≤–µ—Ç:</strong> –î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç—å –≤—Å–µ —ç—Ç–∞–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.</p>
        </div>
    </div>
    
    <div class="modal" id="info-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modal-title"></h2>
            <div id="modal-content"></div>
        </div>
    </div>
<footer class="footer">
<div class="container">
<p>¬© 2025 | kmp | CC BY-NC-SA 4.0<br>
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ë—Ä–ì–£ –∏–º–µ–Ω–∏ –ê.–°. –ü—É—à–∫–∏–Ω–∞</p>
</div>
</footer>
<div style="position: fixed; bottom: 10px; right: 33px; opacity: 0.3; font-size: 14px;">kmp+</div>
    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const config = {
            encoderLayers: 3,
            decoderLayers: 3,
            animationSpeed: 1000,
            currentStep: 0,
            totalSteps: 0,
            isRunning: false,
            darkMode: false
        };
        
        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
        const componentInfo = {
            'multi-head-attention': {
                title: 'Multi-Head Attention',
                content: `<p>Multi-Head Attention –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–¥–µ–ª–∏ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</p>
                          <p>Multi-Head Attention —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö "–≥–æ–ª–æ–≤–∞—Ö", –∞–Ω–∞–ª–∏–∑–∏—Ä—É—è —Ä–∞–∑–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</p>
                          <p>–ö–∞–∂–¥–∞—è –≥–æ–ª–æ–≤–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç –≤–Ω–∏–º–∞–Ω–∏–µ –º–µ–∂–¥—É –≤—Å–µ–º–∏ –ø–∞—Ä–∞–º–∏ —Å–ª–æ–≤ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Å–æ–∑–¥–∞–≤–∞—è –º–∞—Ç—Ä–∏—Ü—É –≤–Ω–∏–º–∞–Ω–∏—è.</p>
                          <p>–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–¥–µ–ª–∏ —É–ª–∞–≤–ª–∏–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ–≤–∞–º–∏.</p>`
            },
            'masked-multi-head-attention': {
                title: 'Masked Multi-Head Attention',
                content: `<p>Masked Multi-Head Attention —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –æ–±—ã—á–Ω–æ–º—É –º–µ—Ö–∞–Ω–∏–∑–º—É –≤–Ω–∏–º–∞–Ω–∏—è, –Ω–æ —Å –≤–∞–∂–Ω—ã–º –æ—Ç–ª–∏—á–∏–µ–º.</p>
                          <p>–ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "–ø–æ–¥–≥–ª—è–¥—ã–≤–∞–Ω–∏–µ" –≤ –±—É–¥—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</p>
                          <p>–ö–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–ª–æ–≤–∞ –∏ –Ω–∞ —Å–µ–±—è, –Ω–æ –Ω–µ –Ω–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ.</p>
                          <p>–≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.</p>`
            },
            'encoder-decoder-attention': {
                title: 'Encoder-Decoder Attention',
                content: `<p>Encoder-Decoder Attention —Å–≤—è–∑—ã–≤–∞–µ—Ç —ç–Ω–∫–æ–¥–µ—Ä –∏ –¥–µ–∫–æ–¥–µ—Ä, –ø–æ–∑–≤–æ–ª—è—è –¥–µ–∫–æ–¥–µ—Ä—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</p>
                          <p>–í —ç—Ç–æ–º –º–µ—Ö–∞–Ω–∏–∑–º–µ –≤–Ω–∏–º–∞–Ω–∏—è:</p>
                          <ul>
                              <li>–ö–ª—é—á–∏ (K) –∏ –∑–Ω–∞—á–µ–Ω–∏—è (V) –ø–æ—Å—Ç—É–ø–∞—é—Ç –∏–∑ –≤—ã—Ö–æ–¥–∞ —ç–Ω–∫–æ–¥–µ—Ä–∞</li>
                              <li>–ó–∞–ø—Ä–æ—Å—ã (Q) –ø–æ—Å—Ç—É–ø–∞—é—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–ª–æ—è –¥–µ–∫–æ–¥–µ—Ä–∞</li>
                          </ul>
                          <p>–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ –¥–µ–∫–æ–¥–µ—Ä–µ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏—è—Ö –≤–æ –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</p>`
            },
            'feed-forward-network': {
                title: 'Feed-Forward Network',
                content: `<p>Feed-Forward Network (FFN) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—É—é –ø–æ–∑–∏—Ü–∏—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.</p>
                          <p>–°–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –ª–∏–Ω–µ–π–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π —Å –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π ReLU –º–µ–∂–¥—É –Ω–∏–º–∏:</p>
                          <p><code>FFN(x) = max(0, xW‚ÇÅ + b‚ÇÅ)W‚ÇÇ + b‚ÇÇ</code></p>
                          <p>FFN –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å –≤ –º–æ–¥–µ–ª—å –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –µ–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.</p>
                          <p>–ö–∞–∂–¥–∞—è –ø–æ–∑–∏—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–∑–∏—Ü–∏–π.</p>`
            }
        };
        
        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const elements = {
            inputText: document.getElementById('input-text'),
            startBtn: document.getElementById('start-btn'),
            prevBtn: document.getElementById('prev-btn'),
            nextBtn: document.getElementById('next-btn'),
            resetBtn: document.getElementById('reset-btn'),
            encoderLayers: document.getElementById('encoder-layers'),
            decoderLayers: document.getElementById('decoder-layers'),
            outputText: document.getElementById('output-text'),
            modal: document.getElementById('info-modal'),
            modalTitle: document.getElementById('modal-title'),
            modalContent: document.getElementById('modal-content'),
            closeModal: document.querySelector('.close-modal'),
            progressIndicator: document.getElementById('progress-indicator'),
            themeToggle: document.getElementById('theme-toggle')
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–µ–º–µ
            checkThemePreference();
            
            // –°–æ–∑–¥–∞–µ–º —Å–ª–æ–∏ —ç–Ω–∫–æ–¥–µ—Ä–∞
            for (let i = 0; i < config.encoderLayers; i++) {
                const layer = document.createElement('div');
                layer.className = 'layer encoder-layer';
                layer.id = `encoder-layer-${i}`;
                
                const attention = document.createElement('div');
                attention.className = 'component attention';
                attention.textContent = 'Multi-Head Attention';
                attention.dataset.type = 'multi-head-attention';
                attention.addEventListener('click', showComponentInfo);
                
                const ffn = document.createElement('div');
                ffn.className = 'component ffn';
                ffn.textContent = 'Feed-Forward Network';
                ffn.dataset.type = 'feed-forward-network';
                ffn.addEventListener('click', showComponentInfo);
                
                const dataFlow = document.createElement('div');
                dataFlow.className = 'data-flow';
                dataFlow.id = `encoder-flow-${i}`;
                
                layer.appendChild(attention);
                layer.appendChild(ffn);
                layer.appendChild(dataFlow);
                
                elements.encoderLayers.appendChild(layer);
            }
            
            // –°–æ–∑–¥–∞–µ–º —Å–ª–æ–∏ –¥–µ–∫–æ–¥–µ—Ä–∞
            for (let i = 0; i < config.decoderLayers; i++) {
                const layer = document.createElement('div');
                layer.className = 'layer decoder-layer';
                layer.id = `decoder-layer-${i}`;
                
                const maskedAttention = document.createElement('div');
                maskedAttention.className = 'component attention';
                maskedAttention.textContent = 'Masked Multi-Head Attention';
                maskedAttention.dataset.type = 'masked-multi-head-attention';
                maskedAttention.addEventListener('click', showComponentInfo);
                
                const encoderDecoderAttention = document.createElement('div');
                encoderDecoderAttention.className = 'component attention';
                encoderDecoderAttention.textContent = 'Encoder-Decoder Attention';
                encoderDecoderAttention.dataset.type = 'encoder-decoder-attention';
                encoderDecoderAttention.addEventListener('click', showComponentInfo);
                
                const ffn = document.createElement('div');
                ffn.className = 'component ffn';
                ffn.textContent = 'Feed-Forward Network';
                ffn.dataset.type = 'feed-forward-network';
                ffn.addEventListener('click', showComponentInfo);
                
                const dataFlow = document.createElement('div');
                dataFlow.className = 'data-flow';
                dataFlow.id = `decoder-flow-${i}`;
                
                layer.appendChild(maskedAttention);
                layer.appendChild(encoderDecoderAttention);
                layer.appendChild(ffn);
                layer.appendChild(dataFlow);
                
                elements.decoderLayers.appendChild(layer);
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            elements.startBtn.addEventListener('click', startVisualization);
            elements.prevBtn.addEventListener('click', prevStep);
            elements.nextBtn.addEventListener('click', nextStep);
            elements.resetBtn.addEventListener('click', resetVisualization);
            elements.closeModal.addEventListener('click', closeModal);
            elements.themeToggle.addEventListener('click', toggleTheme);
            
            // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            window.addEventListener('click', (event) => {
                if (event.target === elements.modal) {
                    closeModal();
                }
            });
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π —Ç–µ–º—ã
        function checkThemePreference() {
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (prefersDark) {
                toggleTheme();
            }
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        function toggleTheme() {
            config.darkMode = !config.darkMode;
            document.body.classList.toggle('dark-mode');
            elements.themeToggle.textContent = config.darkMode ? '‚òÄÔ∏è' : 'üåô';
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
        function showComponentInfo(event) {
            const componentType = event.currentTarget.dataset.type;
            const info = componentInfo[componentType];
            
            elements.modalTitle.textContent = info.title;
            elements.modalContent.innerHTML = info.content;
            elements.modal.style.display = 'block';
        }
        
        // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        function closeModal() {
            elements.modal.style.display = 'none';
        }
        
        // –ó–∞–ø—É—Å–∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
        function startVisualization() {
            if (config.isRunning) return;
            
            const input = elements.inputText.value.trim();
            if (!input) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏');
                return;
            }
            
            config.isRunning = true;
            config.currentStep = 0;
            
            // –í—ã—á–∏—Å–ª—è–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
            config.totalSteps = (config.encoderLayers * 2) + (config.decoderLayers * 3) + 1;
            
            // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
            const tokens = input.split(/\s+/);
            config.tokens = tokens;
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            elements.startBtn.disabled = true;
            elements.prevBtn.disabled = true;
            elements.nextBtn.disabled = false;
            elements.resetBtn.disabled = false;
            
            // –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ —Å–ª–æ–∏ –∏ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö
            resetLayers();
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            updateProgressIndicator();
            
            // –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—ã–π —à–∞–≥
            processStep();
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
        function processStep() {
            const step = config.currentStep;
            const encoderSteps = config.encoderLayers * 2;
            const decoderSteps = config.decoderLayers * 3;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            updateProgressIndicator();
            
            // –°–±—Ä–æ—Å–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã
            resetActiveClasses();
            
            if (step < encoderSteps) {
                // –®–∞–≥–∏ —ç–Ω–∫–æ–¥–µ—Ä–∞
                const layerIndex = Math.floor(step / 2);
                const isAttention = step % 2 === 0;
                
                const layer = document.getElementById(`encoder-layer-${layerIndex}`);
                layer.classList.add('active');
                
                const components = layer.querySelectorAll('.component');
                if (isAttention) {
                    // Multi-Head Attention
                    components[0].classList.add('active');
                    animateDataFlow(`encoder-flow-${layerIndex}`, config.tokens);
                } else {
                    // Feed-Forward Network
                    components[1].classList.add('active');
                    animateDataFlow(`encoder-flow-${layerIndex}`, config.tokens);
                }
            } else if (step < encoderSteps + decoderSteps) {
                // –®–∞–≥–∏ –¥–µ–∫–æ–¥–µ—Ä–∞
                const decoderStep = step - encoderSteps;
                const layerIndex = Math.floor(decoderStep / 3);
                const componentIndex = decoderStep % 3;
                
                const layer = document.getElementById(`decoder-layer-${layerIndex}`);
                layer.classList.add('active');
                
                const components = layer.querySelectorAll('.component');
                components[componentIndex].classList.add('active');
                
                animateDataFlow(`decoder-flow-${layerIndex}`, config.tokens);
            } else {
                // –§–∏–Ω–∞–ª—å–Ω—ã–π —à–∞–≥ - –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                generateOutput();
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
            elements.prevBtn.disabled = step === 0;
            elements.nextBtn.disabled = step === config.totalSteps - 1;
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        function animateDataFlow(flowId, tokens) {
            const dataFlow = document.getElementById(flowId);
            if (!dataFlow) {
                console.error(`–≠–ª–µ–º–µ–Ω—Ç —Å id "${flowId}" –Ω–µ –Ω–∞–π–¥–µ–Ω`);
                return;
            }
            
            dataFlow.innerHTML = '';
            
            // –°–æ–∑–¥–∞–µ–º SVG –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
            const width = dataFlow.offsetWidth;
            const height = dataFlow.offsetHeight;
            
            const svg = d3.select(`#${flowId}`)
                .append("svg")
                .attr("width", width)
                .attr("height", height);
            
            // –°–æ–∑–¥–∞–µ–º —Ç–æ–∫–µ–Ω—ã –∫–∞–∫ –∫—Ä—É–∂–∫–∏
            const tokenCircles = svg.selectAll("circle")
                .data(tokens)
                .enter()
                .append("circle")
                .attr("r", 8)
                .attr("fill", (d, i) => d3.schemeCategory10[i % 10])
                .attr("cx", -10)
                .attr("cy", (d, i) => 20 + i * (height - 40) / Math.max(tokens.length - 1, 1));
            
            // –ê–Ω–∏–º–∏—Ä—É–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
            tokenCircles.transition()
                .duration(config.animationSpeed)
                .attr("cx", width + 10);
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        function generateOutput() {
            const tokens = config.tokens;
            elements.outputText.innerHTML = '';
            
            // –ü—Ä–æ—Å—Ç–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
            const outputTokens = tokens.map(token => {
                return `<span class="token">‚òÖ${token}‚òÖ</span>`;
            });
            
            elements.outputText.innerHTML = outputTokens.join(' ');
        }
        
        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É
        function nextStep() {
            if (config.currentStep < config.totalSteps - 1) {
                config.currentStep++;
                processStep();
            }
        }
        
        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —à–∞–≥—É
        function prevStep() {
            if (config.currentStep > 0) {
                config.currentStep--;
                processStep();
            }
        }
        
        // –°–±—Ä–æ—Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
        function resetVisualization() {
            config.isRunning = false;
            config.currentStep = 0;
            config.tokens = [];
            
            elements.startBtn.disabled = false;
            elements.prevBtn.disabled = true;
            elements.nextBtn.disabled = true;
            elements.resetBtn.disabled = true;
            
            resetLayers();
            elements.outputText.innerHTML = '–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç';
            elements.progressIndicator.textContent = '–ì–æ—Ç–æ–≤ –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏';
        }
        
        // –°–±—Ä–æ—Å –≤—Å–µ—Ö —Å–ª–æ–µ–≤
        function resetLayers() {
            const layers = document.querySelectorAll('.layer');
            layers.forEach(layer => {
                layer.classList.remove('active');
            });
            
            const components = document.querySelectorAll('.component');
            components.forEach(component => {
                component.classList.remove('active');
            });
            
            const dataFlows = document.querySelectorAll('.data-flow');
            dataFlows.forEach(flow => {
                flow.innerHTML = '';
            });
        }
        
        // –°–±—Ä–æ—Å –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
        function resetActiveClasses() {
            const activeElements = document.querySelectorAll('.active');
            activeElements.forEach(el => {
                el.classList.remove('active');
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgressIndicator() {
            const step = config.currentStep;
            const total = config.totalSteps;
            
            const encoderSteps = config.encoderLayers * 2;
            const decoderSteps = config.decoderLayers * 3;
            
            let message = '';
            
            if (step < encoderSteps) {
                const layerIndex = Math.floor(step / 2) + 1;
                const isAttention = step % 2 === 0;
                message = `–≠–Ω–∫–æ–¥–µ—Ä: –°–ª–æ–π ${layerIndex}, ${isAttention ? 'Multi-Head Attention' : 'Feed-Forward Network'}`;
            } else if (step < encoderSteps + decoderSteps) {
                const decoderStep = step - encoderSteps;
                const layerIndex = Math.floor(decoderStep / 3) + 1;
                const componentIndex = decoderStep % 3;
                
                let componentName = '';
                switch (componentIndex) {
                    case 0: componentName = 'Masked Multi-Head Attention'; break;
                    case 1: componentName = 'Encoder-Decoder Attention'; break;
                    case 2: componentName = 'Feed-Forward Network'; break;
                }
                
                message = `–î–µ–∫–æ–¥–µ—Ä: –°–ª–æ–π ${layerIndex}, ${componentName}`;
            } else {
                message = '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö';
            }
            
            elements.progressIndicator.textContent = `–®–∞–≥ ${step + 1} –∏–∑ ${total}: ${message}`;
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ D3.js
        function checkD3Loaded() {
            if (typeof d3 === 'undefined') {
                console.error('–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ D3.js –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É D3.js. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
                return false;
            }
            return true;
        }
        
        // –ó–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            if (checkD3Loaded()) {
                init();
                console.log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ');
            }
        });
    </script>
</body>
</html>